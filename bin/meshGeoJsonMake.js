var $a=Object.create;var Nn=Object.defineProperty;var Fa=Object.getOwnPropertyDescriptor;var Na=Object.getOwnPropertyNames;var La=Object.getPrototypeOf,qa=Object.prototype.hasOwnProperty;var De=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+s+'" is not supported')});var Ut=(s,e)=>()=>(s&&(e=s(s=0)),e);var Ce=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),Wa=(s,e)=>{for(var r in e)Nn(s,r,{get:e[r],enumerable:!0})},Ma=(s,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Na(e))!qa.call(s,o)&&o!==r&&Nn(s,o,{get:()=>e[o],enumerable:!(i=Fa(e,o))||i.enumerable});return s};var Ln=(s,e,r)=>(r=s!=null?$a(La(s)):{},Ma(e||!s||!s.__esModule?Nn(r,"default",{value:s,enumerable:!0}):r,s));var Jt=Ce(Wn=>{var jr=class extends Error{constructor(e,r,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},qn=class extends jr{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Wn.CommanderError=jr;Wn.InvalidArgumentError=qn});var Hr=Ce(zn=>{var{InvalidArgumentError:za}=Jt(),Mn=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,i)=>{if(!this.argChoices.includes(r))throw new za(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,i):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function ja(s){let e=s.name()+(s.variadic===!0?"...":"");return s.required?"<"+e+">":"["+e+"]"}zn.Argument=Mn;zn.humanReadableArgName=ja});var Hn=Ce(ao=>{var{humanReadableArgName:Ha}=Hr(),jn=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){let r=e.commands.filter(i=>!i._hidden);if(e._hasImplicitHelpCommand()){let[,i,o]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),l=e.createCommand(i).helpOption(!1);l.description(e._helpCommandDescription),o&&l.arguments(o),r.push(l)}return this.sortSubcommands&&r.sort((i,o)=>i.name().localeCompare(o.name())),r}compareOptions(e,r){let i=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");return i(e).localeCompare(i(r))}visibleOptions(e){let r=e.options.filter(l=>!l.hidden),i=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),o=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(i||o){let l;i?o?l=e.createOption(e._helpFlags,e._helpDescription):l=e.createOption(e._helpShortFlag,e._helpDescription):l=e.createOption(e._helpLongFlag,e._helpDescription),r.push(l)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let r=[];for(let i=e.parent;i;i=i.parent){let o=i.options.filter(l=>!l.hidden);r.push(...o)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(e){return e._argsDescription&&e._args.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e._args.find(r=>r.description)?e._args:[]}subcommandTerm(e){let r=e._args.map(i=>Ha(i)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((i,o)=>Math.max(i,r.subcommandTerm(o).length),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((i,o)=>Math.max(i,r.optionTerm(o).length),0)}longestGlobalOptionTermLength(e,r){return r.visibleGlobalOptions(e).reduce((i,o)=>Math.max(i,r.optionTerm(o).length),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((i,o)=>Math.max(i,r.argumentTerm(o).length),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let i="";for(let o=e.parent;o;o=o.parent)i=o.name()+" "+i;return i+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let r=[];return e.argChoices&&r.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&r.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0?`${e.description} (${r.join(", ")})`:e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let i=`(${r.join(", ")})`;return e.description?`${e.description} ${i}`:i}return e.description}formatHelp(e,r){let i=r.padWidth(e,r),o=r.helpWidth||80,l=2,f=2;function d(_,C){if(C){let k=`${_.padEnd(i+f)}${C}`;return r.wrap(k,o-l,i+f)}return _}function c(_){return _.join(`
`).replace(/^/gm," ".repeat(l))}let m=[`Usage: ${r.commandUsage(e)}`,""],y=r.commandDescription(e);y.length>0&&(m=m.concat([r.wrap(y,o,0),""]));let b=r.visibleArguments(e).map(_=>d(r.argumentTerm(_),r.argumentDescription(_)));b.length>0&&(m=m.concat(["Arguments:",c(b),""]));let S=r.visibleOptions(e).map(_=>d(r.optionTerm(_),r.optionDescription(_)));if(S.length>0&&(m=m.concat(["Options:",c(S),""])),this.showGlobalOptions){let _=r.visibleGlobalOptions(e).map(C=>d(r.optionTerm(C),r.optionDescription(C)));_.length>0&&(m=m.concat(["Global Options:",c(_),""]))}let w=r.visibleCommands(e).map(_=>d(r.subcommandTerm(_),r.subcommandDescription(_)));return w.length>0&&(m=m.concat(["Commands:",c(w),""])),m.join(`
`)}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestGlobalOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}wrap(e,r,i,o=40){let l=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",f=new RegExp(`[\\n][${l}]+`);if(e.match(f))return e;let d=r-i;if(d<o)return e;let c=e.slice(0,i),m=e.slice(i).replace(`\r
`,`
`),y=" ".repeat(i),S="\\s\u200B",w=new RegExp(`
|.{1,${d-1}}([${S}]|$)|[^${S}]+?([${S}]|$)`,"g"),_=m.match(w)||[];return c+_.map((C,k)=>C===`
`?"":(k>0?y:"")+C.trimEnd()).join(`
`)}};ao.Help=jn});var Jn=Ce(Vr=>{var{InvalidArgumentError:Va}=Jt(),Vn=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let i=lo(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){return this.implied=Object.assign(this.implied||{},e),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,i)=>{if(!this.argChoices.includes(r))throw new Va(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,i):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return Ua(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},Un=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,i)=>{this.positiveOptions.has(i)&&this.dualOptions.add(i)})}valueFromOption(e,r){let i=r.attributeName();if(!this.dualOptions.has(i))return!0;let o=this.negativeOptions.get(i).presetArg,l=o!==void 0?o:!1;return r.negate===(l===e)}};function Ua(s){return s.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function lo(s){let e,r,i=s.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),r=i.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0),{shortFlag:e,longFlag:r}}Vr.Option=Vn;Vr.splitOptionFlags=lo;Vr.DualOptions=Un});var fo=Ce(uo=>{function Ja(s,e){if(Math.abs(s.length-e.length)>3)return Math.max(s.length,e.length);let r=[];for(let i=0;i<=s.length;i++)r[i]=[i];for(let i=0;i<=e.length;i++)r[0][i]=i;for(let i=1;i<=e.length;i++)for(let o=1;o<=s.length;o++){let l=1;s[o-1]===e[i-1]?l=0:l=1,r[o][i]=Math.min(r[o-1][i]+1,r[o][i-1]+1,r[o-1][i-1]+l),o>1&&i>1&&s[o-1]===e[i-2]&&s[o-2]===e[i-1]&&(r[o][i]=Math.min(r[o][i],r[o-2][i-2]+1))}return r[s.length][e.length]}function Qa(s,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=s.startsWith("--");r&&(s=s.slice(2),e=e.map(f=>f.slice(2)));let i=[],o=3,l=.4;return e.forEach(f=>{if(f.length<=1)return;let d=Ja(s,f),c=Math.max(s.length,f.length);(c-d)/c>l&&(d<o?(o=d,i=[f]):d===o&&i.push(f))}),i.sort((f,d)=>f.localeCompare(d)),r&&(i=i.map(f=>`--${f}`)),i.length>1?`
(Did you mean one of ${i.join(", ")}?)`:i.length===1?`
(Did you mean ${i[0]}?)`:""}uo.suggestSimilar=Qa});var _o=Ce(go=>{var Ga=De("events").EventEmitter,Qn=De("child_process"),Ie=De("path"),Gn=De("fs"),j=De("process"),{Argument:Ya,humanReadableArgName:Za}=Hr(),{CommanderError:Yn}=Jt(),{Help:Ka}=Hn(),{Option:co,splitOptionFlags:Xa,DualOptions:el}=Jn(),{suggestSimilar:ho}=fo(),Gt=class extends Ga{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:r=>j.stdout.write(r),writeErr:r=>j.stderr.write(r),getOutHelpWidth:()=>j.stdout.isTTY?j.stdout.columns:void 0,getErrHelpWidth:()=>j.stderr.isTTY?j.stderr.columns:void 0,outputError:(r,i)=>i(r)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,r,i){let o=r,l=i;typeof o=="object"&&o!==null&&(l=o,o=null),l=l||{};let[,f,d]=e.match(/([^ ]+) *(.*)/),c=this.createCommand(f);return o&&(c.description(o),c._executableHandler=!0),l.isDefault&&(this._defaultCommandName=c._name),c._hidden=!!(l.noHelp||l.hidden),c._executableFile=l.executableFile||null,d&&c.arguments(d),this.commands.push(c),c.parent=this,c.copyInheritedSettings(this),o?this:c}createCommand(e){return new Gt(e)}createHelp(){return Object.assign(new Ka,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,r){return new Ya(e,r)}argument(e,r,i,o){let l=this.createArgument(e,r);return typeof i=="function"?l.default(o).argParser(i):l.default(i),this.addArgument(l),this}arguments(e){return e.split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this._args.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,r){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=r||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,r){let i=["preSubcommand","preAction","postAction"];if(!i.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,i){this._exitCallback&&this._exitCallback(new Yn(e,r,i)),j.exit(e)}action(e){let r=i=>{let o=this._args.length,l=i.slice(0,o);return this._storeOptionsAsProperties?l[o]=this:l[o]=this.opts(),l.push(this),e.apply(this,l)};return this._actionHandler=r,this}createOption(e,r){return new co(e,r)}addOption(e){let r=e.name(),i=e.attributeName();if(e.negate){let l=e.long.replace(/^--no-/,"--");this._findOption(l)||this.setOptionValueWithSource(i,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(i,e.defaultValue,"default");this.options.push(e);let o=(l,f,d)=>{l==null&&e.presetArg!==void 0&&(l=e.presetArg);let c=this.getOptionValue(i);if(l!==null&&e.parseArg)try{l=e.parseArg(l,c)}catch(m){if(m.code==="commander.invalidArgument"){let y=`${f} ${m.message}`;this.error(y,{exitCode:m.exitCode,code:m.code})}throw m}else l!==null&&e.variadic&&(l=e._concatValue(l,c));l==null&&(e.negate?l=!1:e.isBoolean()||e.optional?l=!0:l=""),this.setOptionValueWithSource(i,l,d)};return this.on("option:"+r,l=>{let f=`error: option '${e.flags}' argument '${l}' is invalid.`;o(l,f,"cli")}),e.envVar&&this.on("optionEnv:"+r,l=>{let f=`error: option '${e.flags}' value '${l}' from env '${e.envVar}' is invalid.`;o(l,f,"env")}),this}_optionEx(e,r,i,o,l){if(typeof r=="object"&&r instanceof co)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let f=this.createOption(r,i);if(f.makeOptionMandatory(!!e.mandatory),typeof o=="function")f.default(l).argParser(o);else if(o instanceof RegExp){let d=o;o=(c,m)=>{let y=d.exec(c);return y?y[0]:m},f.default(l).argParser(o)}else f.default(o);return this.addOption(f)}option(e,r,i,o){return this._optionEx({},e,r,i,o)}requiredOption(e,r,i,o){return this._optionEx({mandatory:!0},e,r,i,o)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this.setOptionValueWithSource(e,r,void 0)}setOptionValueWithSource(e,r,i){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this._optionValueSources[e]=i,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let r;return Qt(this).forEach(i=>{i.getOptionValueSource(e)!==void 0&&(r=i.getOptionValueSource(e))}),r}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");r=r||{},e===void 0&&(e=j.argv,j.versions&&j.versions.electron&&(r.from="electron")),this.rawArgs=e.slice();let i;switch(r.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":j.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(e,r){let i=this._prepareUserArgs(e,r);return this._parseCommand([],i),this}async parseAsync(e,r){let i=this._prepareUserArgs(e,r);return await this._parseCommand([],i),this}_executeSubCommand(e,r){r=r.slice();let i=!1,o=[".js",".ts",".tsx",".mjs",".cjs"];function l(y,b){let S=Ie.resolve(y,b);if(Gn.existsSync(S))return S;if(o.includes(Ie.extname(b)))return;let w=o.find(_=>Gn.existsSync(`${S}${_}`));if(w)return`${S}${w}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let f=e._executableFile||`${this._name}-${e._name}`,d=this._executableDir||"";if(this._scriptPath){let y;try{y=Gn.realpathSync(this._scriptPath)}catch{y=this._scriptPath}d=Ie.resolve(Ie.dirname(y),d)}if(d){let y=l(d,f);if(!y&&!e._executableFile&&this._scriptPath){let b=Ie.basename(this._scriptPath,Ie.extname(this._scriptPath));b!==this._name&&(y=l(d,`${b}-${e._name}`))}f=y||f}i=o.includes(Ie.extname(f));let c;j.platform!=="win32"?i?(r.unshift(f),r=po(j.execArgv).concat(r),c=Qn.spawn(j.argv[0],r,{stdio:"inherit"})):c=Qn.spawn(f,r,{stdio:"inherit"}):(r.unshift(f),r=po(j.execArgv).concat(r),c=Qn.spawn(j.execPath,r,{stdio:"inherit"})),c.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(b=>{j.on(b,()=>{c.killed===!1&&c.exitCode===null&&c.kill(b)})});let m=this._exitCallback;m?c.on("close",()=>{m(new Yn(j.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):c.on("close",j.exit.bind(j)),c.on("error",y=>{if(y.code==="ENOENT"){let b=d?`searched for local subcommand relative to directory '${d}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",S=`'${f}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${b}`;throw new Error(S)}else if(y.code==="EACCES")throw new Error(`'${f}' not executable`);if(!m)j.exit(1);else{let b=new Yn(1,"commander.executeSubCommandAsync","(error)");b.nestedError=y,m(b)}}),this.runningCommand=c}_dispatchSubcommand(e,r,i){let o=this._findCommand(e);o||this.help({error:!0});let l;return l=this._chainOrCallSubCommandHook(l,o,"preSubcommand"),l=this._chainOrCall(l,()=>{if(o._executableHandler)this._executeSubCommand(o,r.concat(i));else return o._parseCommand(r,i)}),l}_checkNumberOfArguments(){this._args.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(i,o,l)=>{let f=o;if(o!==null&&i.parseArg)try{f=i.parseArg(o,l)}catch(d){if(d.code==="commander.invalidArgument"){let c=`error: command-argument value '${o}' is invalid for argument '${i.name()}'. ${d.message}`;this.error(c,{exitCode:d.exitCode,code:d.code})}throw d}return f};this._checkNumberOfArguments();let r=[];this._args.forEach((i,o)=>{let l=i.defaultValue;i.variadic?o<this.args.length?(l=this.args.slice(o),i.parseArg&&(l=l.reduce((f,d)=>e(i,d,f),i.defaultValue))):l===void 0&&(l=[]):o<this.args.length&&(l=this.args[o],i.parseArg&&(l=e(i,l,i.defaultValue))),r[o]=l}),this.processedArgs=r}_chainOrCall(e,r){return e&&e.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let i=e,o=[];return Qt(this).reverse().filter(l=>l._lifeCycleHooks[r]!==void 0).forEach(l=>{l._lifeCycleHooks[r].forEach(f=>{o.push({hookedCommand:l,callback:f})})}),r==="postAction"&&o.reverse(),o.forEach(l=>{i=this._chainOrCall(i,()=>l.callback(l.hookedCommand,this))}),i}_chainOrCallSubCommandHook(e,r,i){let o=e;return this._lifeCycleHooks[i]!==void 0&&this._lifeCycleHooks[i].forEach(l=>{o=this._chainOrCall(o,()=>l(this,r))}),o}_parseCommand(e,r){let i=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(i.operands),r=i.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return e.length===1&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return mo(this,r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),mo(this,i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},l=`command:${this.name()}`;if(this._actionHandler){o(),this._processArguments();let f;return f=this._chainOrCallHooks(f,"preAction"),f=this._chainOrCall(f,()=>this._actionHandler(this.processedArgs)),this.parent&&(f=this._chainOrCall(f,()=>{this.parent.emit(l,e,r)})),f=this._chainOrCallHooks(f,"postAction"),f}if(this.parent&&this.parent.listenerCount(l))o(),this._processArguments(),this.parent.emit(l,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(o(),this._processArguments())}else this.commands.length?(o(),this.help({error:!0})):(o(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})}_checkForConflictingLocalOptions(){let e=this.options.filter(i=>{let o=i.attributeName();return this.getOptionValue(o)===void 0?!1:this.getOptionValueSource(o)!=="default"});e.filter(i=>i.conflictsWith.length>0).forEach(i=>{let o=e.find(l=>i.conflictsWith.includes(l.attributeName()));o&&this._conflictingOption(i,o)})}_checkForConflictingOptions(){for(let e=this;e;e=e.parent)e._checkForConflictingLocalOptions()}parseOptions(e){let r=[],i=[],o=r,l=e.slice();function f(c){return c.length>1&&c[0]==="-"}let d=null;for(;l.length;){let c=l.shift();if(c==="--"){o===i&&o.push(c),o.push(...l);break}if(d&&!f(c)){this.emit(`option:${d.name()}`,c);continue}if(d=null,f(c)){let m=this._findOption(c);if(m){if(m.required){let y=l.shift();y===void 0&&this.optionMissingArgument(m),this.emit(`option:${m.name()}`,y)}else if(m.optional){let y=null;l.length>0&&!f(l[0])&&(y=l.shift()),this.emit(`option:${m.name()}`,y)}else this.emit(`option:${m.name()}`);d=m.variadic?m:null;continue}}if(c.length>2&&c[0]==="-"&&c[1]!=="-"){let m=this._findOption(`-${c[1]}`);if(m){m.required||m.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${m.name()}`,c.slice(2)):(this.emit(`option:${m.name()}`),l.unshift(`-${c.slice(2)}`));continue}}if(/^--[^=]+=/.test(c)){let m=c.indexOf("="),y=this._findOption(c.slice(0,m));if(y&&(y.required||y.optional)){this.emit(`option:${y.name()}`,c.slice(m+1));continue}}if(f(c)&&(o=i),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&i.length===0){if(this._findCommand(c)){r.push(c),l.length>0&&i.push(...l);break}else if(c===this._helpCommandName&&this._hasImplicitHelpCommand()){r.push(c),l.length>0&&r.push(...l);break}else if(this._defaultCommandName){i.push(c),l.length>0&&i.push(...l);break}}if(this._passThroughOptions){o.push(c),l.length>0&&o.push(...l);break}o.push(c)}return{operands:r,unknown:i}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let i=0;i<r;i++){let o=this.options[i].attributeName();e[o]=o===this._versionOptionName?this._version:this[o]}return e}return this._optionValues}optsWithGlobals(){return Qt(this).reduce((e,r)=>Object.assign(e,r.opts()),{})}error(e,r){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let i=r||{},o=i.exitCode||1,l=i.code||"commander.error";this._exit(o,l,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in j.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,j.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new el(this.options),r=i=>this.getOptionValue(i)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(i));this.options.filter(i=>i.implied!==void 0&&r(i.attributeName())&&e.valueFromOption(this.getOptionValue(i.attributeName()),i)).forEach(i=>{Object.keys(i.implied).filter(o=>!r(o)).forEach(o=>{this.setOptionValueWithSource(o,i.implied[o],"implied")})})}missingArgument(e){let r=`error: missing required argument '${e}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,r){let i=f=>{let d=f.attributeName(),c=this.getOptionValue(d),m=this.options.find(b=>b.negate&&d===b.attributeName()),y=this.options.find(b=>!b.negate&&d===b.attributeName());return m&&(m.presetArg===void 0&&c===!1||m.presetArg!==void 0&&c===m.presetArg)?m:y||f},o=f=>{let d=i(f),c=d.attributeName();return this.getOptionValueSource(c)==="env"?`environment variable '${d.envVar}'`:`option '${d.flags}'`},l=`error: ${o(e)} cannot be used with ${o(r)}`;this.error(l,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let o=[],l=this;do{let f=l.createHelp().visibleOptions(l).filter(d=>d.long).map(d=>d.long);o=o.concat(f),l=l.parent}while(l&&!l._enablePositionalOptions);r=ho(e,o)}let i=`error: unknown option '${e}'${r}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let r=this._args.length,i=r===1?"":"s",l=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${i} but got ${e.length}.`;this.error(l,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let o=[];this.createHelp().visibleCommands(this).forEach(l=>{o.push(l.name()),l.alias()&&o.push(l.alias())}),r=ho(e,o)}let i=`error: unknown command '${e}'${r}`;this.error(i,{code:"commander.unknownCommand"})}version(e,r,i){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",i=i||"output the version number";let o=this.createOption(r,i);return this._versionOptionName=o.attributeName(),this.options.push(o),this.on("option:"+o.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this._args.map(i=>Za(i));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=Ie.basename(e,Ie.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let r=this.createHelp();return r.helpWidth===void 0&&(r.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),r.formatHelp(this,r)}_getHelpContext(e){e=e||{};let r={error:!!e.error},i;return r.error?i=o=>this._outputConfiguration.writeErr(o):i=o=>this._outputConfiguration.writeOut(o),r.write=e.write||i,r.command=this,r}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let i=this._getHelpContext(e);Qt(this).reverse().forEach(l=>l.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let o=this.helpInformation(i);if(r&&(o=r(o),typeof o!="string"&&!Buffer.isBuffer(o)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(o),this.emit(this._helpLongFlag),this.emit("afterHelp",i),Qt(this).forEach(l=>l.emit("afterAllHelp",i))}helpOption(e,r){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=r||this._helpDescription;let i=Xa(this._helpFlags);return this._helpShortFlag=i.shortFlag,this._helpLongFlag=i.longFlag,this}help(e){this.outputHelp(e);let r=j.exitCode||0;r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let i=["beforeAll","before","after","afterAll"];if(!i.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${i.join("', '")}'`);let o=`${e}Help`;return this.on(o,l=>{let f;typeof r=="function"?f=r({error:l.error,command:l.command}):f=r,f&&l.write(`${f}
`)}),this}};function mo(s,e){s._hasHelpOption&&e.find(i=>i===s._helpLongFlag||i===s._helpShortFlag)&&(s.outputHelp(),s._exit(0,"commander.helpDisplayed","(outputHelp)"))}function po(s){return s.map(e=>{if(!e.startsWith("--inspect"))return e;let r,i="127.0.0.1",o="9229",l;return(l=e.match(/^(--inspect(-brk)?)$/))!==null?r=l[1]:(l=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=l[1],/^\d+$/.test(l[3])?o=l[3]:i=l[3]):(l=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=l[1],i=l[3],o=l[4]),r&&o!=="0"?`${r}=${i}:${parseInt(o)+1}`:e})}function Qt(s){let e=[];for(let r=s;r;r=r.parent)e.push(r);return e}go.Command=Gt});var So=Ce((ye,wo)=>{var{Argument:tl}=Hr(),{Command:bo}=_o(),{CommanderError:rl,InvalidArgumentError:yo}=Jt(),{Help:nl}=Hn(),{Option:il}=Jn();ye=wo.exports=new bo;ye.program=ye;ye.Argument=tl;ye.Command=bo;ye.CommanderError=rl;ye.Help=nl;ye.InvalidArgumentError=yo;ye.InvalidOptionArgumentError=yo;ye.Option=il});var Io=Ce((Jr,Do)=>{(function(s,e){typeof Jr=="object"&&typeof Do<"u"?e(Jr):typeof define=="function"&&define.amd?define(["exports"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.WebStreamsPolyfill={}))})(Jr,function(s){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function r(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let o=i();function l(t){return typeof t=="object"&&t!==null||typeof t=="function"}let f=r,d=Promise,c=Promise.prototype.then,m=Promise.resolve.bind(d),y=Promise.reject.bind(d);function b(t){return new d(t)}function S(t){return m(t)}function w(t){return y(t)}function _(t,n,a){return c.call(t,n,a)}function C(t,n,a){_(_(t,n,a),void 0,f)}function k(t,n){C(t,n)}function T(t,n){C(t,void 0,n)}function E(t,n,a){return _(t,n,a)}function v(t){_(t,void 0,f)}let A=(()=>{let t=o&&o.queueMicrotask;if(typeof t=="function")return t;let n=S(void 0);return a=>_(n,a)})();function q(t,n,a){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,n,a)}function F(t,n,a){try{return S(q(t,n,a))}catch(u){return w(u)}}let Z=16384;class Q{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,u=a;a._elements.length===Z-1&&(u={_elements:[],_next:void 0}),a._elements.push(n),u!==a&&(this._back=u,a._next=u),++this._size}shift(){let n=this._front,a=n,u=this._cursor,h=u+1,p=n._elements,g=p[u];return h===Z&&(a=n._next,h=0),--this._size,this._cursor=h,n!==a&&(this._front=a),p[u]=void 0,g}forEach(n){let a=this._cursor,u=this._front,h=u._elements;for(;(a!==h.length||u._next!==void 0)&&!(a===h.length&&(u=u._next,h=u._elements,a=0,h.length===0));)n(h[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function it(t,n){t._ownerReadableStream=n,n._reader=t,n._state==="readable"?W(t):n._state==="closed"?Ot(t):ee(t,n._storedError)}function B(t,n){let a=t._ownerReadableStream;return _e(a,n)}function Y(t){t._ownerReadableStream._state==="readable"?H(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Oe(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function P(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function W(t){t._closedPromise=b((n,a)=>{t._closedPromise_resolve=n,t._closedPromise_reject=a})}function ee(t,n){W(t),H(t,n)}function Ot(t){W(t),le(t)}function H(t,n){t._closedPromise_reject!==void 0&&(v(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function Oe(t,n){ee(t,n)}function le(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}let te=e("[[AbortSteps]]"),Te=e("[[ErrorSteps]]"),de=e("[[CancelSteps]]"),Tt=e("[[PullSteps]]"),nr=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},fn=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function cn(t){return typeof t=="object"||typeof t=="function"}function he(t,n){if(t!==void 0&&!cn(t))throw new TypeError(`${n} is not an object.`)}function se(t,n){if(typeof t!="function")throw new TypeError(`${n} is not a function.`)}function ir(t){return typeof t=="object"&&t!==null||typeof t=="function"}function or(t,n){if(!ir(t))throw new TypeError(`${n} is not an object.`)}function me(t,n,a){if(t===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function vt(t,n,a){if(t===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function Pt(t){return Number(t)}function sr(t){return t===0?0:t}function dn(t){return sr(fn(t))}function ar(t,n){let u=Number.MAX_SAFE_INTEGER,h=Number(t);if(h=sr(h),!nr(h))throw new TypeError(`${n} is not a finite number`);if(h=dn(h),h<0||h>u)throw new TypeError(`${n} is outside the accepted range of 0 to ${u}, inclusive`);return!nr(h)||h===0?0:h}function kt(t,n){if(!je(t))throw new TypeError(`${n} is not a ReadableStream.`)}function ve(t){return new pe(t)}function lr(t,n){t._reader._readRequests.push(n)}function Dt(t,n,a){let h=t._reader._readRequests.shift();a?h._closeSteps():h._chunkSteps(n)}function ot(t){return t._reader._readRequests.length}function ur(t){let n=t._reader;return!(n===void 0||!re(n))}class pe{constructor(n){if(me(n,1,"ReadableStreamDefaultReader"),kt(n,"First parameter"),He(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");it(this,n),this._readRequests=new Q}get closed(){return re(this)?this._closedPromise:w(Se("closed"))}cancel(n=void 0){return re(this)?this._ownerReadableStream===void 0?w(P("cancel")):B(this,n):w(Se("cancel"))}read(){if(!re(this))return w(Se("read"));if(this._ownerReadableStream===void 0)return w(P("read from"));let n,a,u=b((p,g)=>{n=p,a=g});return ue(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),u}releaseLock(){if(!re(this))throw Se("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Y(this)}}}Object.defineProperties(pe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(pe.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function re(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_readRequests")?!1:t instanceof pe}function ue(t,n){let a=t._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[Tt](n)}function Se(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let Ne=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Le{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?E(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?E(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return w(P("iterate"));let a,u,h=b((g,R)=>{a=g,u=R});return ue(n,{_chunkSteps:g=>{this._ongoingPromise=void 0,A(()=>a({value:g,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Y(n),a({value:void 0,done:!0})},_errorSteps:g=>{this._ongoingPromise=void 0,this._isFinished=!0,Y(n),u(g)}}),h}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return w(P("finish iterating"));if(!this._preventCancel){let u=B(a,n);return Y(a),E(u,()=>({value:n,done:!0}))}return Y(a),S({value:n,done:!0})}}let qe={next(){return fr(this)?this._asyncIteratorImpl.next():w(cr("next"))},return(t){return fr(this)?this._asyncIteratorImpl.return(t):w(cr("return"))}};Ne!==void 0&&Object.setPrototypeOf(qe,Ne);function It(t,n){let a=ve(t),u=new Le(a,n),h=Object.create(qe);return h._asyncIteratorImpl=u,h}function fr(t){if(!l(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof Le}catch{return!1}}function cr(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}let dr=Number.isNaN||function(t){return t!==t};function Qe(t){return t.slice()}function Bt(t,n,a,u,h){new Uint8Array(t).set(new Uint8Array(a,u,h),n)}function fi(t){return t}function st(t){return!1}function hr(t,n,a){if(t.slice)return t.slice(n,a);let u=a-n,h=new ArrayBuffer(u);return Bt(h,0,t,n,u),h}function hn(t){return!(typeof t!="number"||dr(t)||t<0)}function ci(t){let n=hr(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(n)}function mn(t){let n=t._queue.shift();return t._queueTotalSize-=n.size,t._queueTotalSize<0&&(t._queueTotalSize=0),n.value}function pn(t,n,a){if(!hn(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:n,size:a}),t._queueTotalSize+=a}function bs(t){return t._queue.peek().value}function We(t){t._queue=new Q,t._queueTotalSize=0}class xt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!gn(this))throw wn("view");return this._view}respond(n){if(!gn(this))throw wn("respond");if(me(n,1,"respond"),n=ar(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");st(this._view.buffer),br(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!gn(this))throw wn("respondWithNewView");if(me(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");st(n.buffer),yr(this._associatedReadableByteStreamController,n)}}Object.defineProperties(xt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class at{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ge(this))throw Ft("byobRequest");return yn(this)}get desiredSize(){if(!Ge(this))throw Ft("desiredSize");return yi(this)}close(){if(!Ge(this))throw Ft("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);$t(this)}enqueue(n){if(!Ge(this))throw Ft("enqueue");if(me(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);_r(this,n)}error(n=void 0){if(!Ge(this))throw Ft("error");ge(this,n)}[de](n){di(this),We(this);let a=this._cancelAlgorithm(n);return gr(this),a}[Tt](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let h=this._queue.shift();this._queueTotalSize-=h.byteLength,gi(this);let p=new Uint8Array(h.buffer,h.byteOffset,h.byteLength);n._chunkSteps(p);return}let u=this._autoAllocateChunkSize;if(u!==void 0){let h;try{h=new ArrayBuffer(u)}catch(g){n._errorSteps(g);return}let p={buffer:h,bufferByteLength:u,byteOffset:0,byteLength:u,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}lr(a,n),Ye(this)}}Object.defineProperties(at.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(at.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ge(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")?!1:t instanceof at}function gn(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")?!1:t instanceof xt}function Ye(t){if(!Rs(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let a=t._pullAlgorithm();C(a,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,Ye(t))},u=>{ge(t,u)})}function di(t){bn(t),t._pendingPullIntos=new Q}function _n(t,n){let a=!1;t._state==="closed"&&(a=!0);let u=hi(n);n.readerType==="default"?Dt(t,u,a):As(t,u,a)}function hi(t){let n=t.bytesFilled,a=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/a)}function mr(t,n,a,u){t._queue.push({buffer:n,byteOffset:a,byteLength:u}),t._queueTotalSize+=u}function mi(t,n){let a=n.elementSize,u=n.bytesFilled-n.bytesFilled%a,h=Math.min(t._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+h,g=p-p%a,R=h,D=!1;g>u&&(R=g-n.bytesFilled,D=!0);let x=t._queue;for(;R>0;){let N=x.peek(),L=Math.min(R,N.byteLength),V=n.byteOffset+n.bytesFilled;Bt(n.buffer,V,N.buffer,N.byteOffset,L),N.byteLength===L?x.shift():(N.byteOffset+=L,N.byteLength-=L),t._queueTotalSize-=L,pi(t,L,n),R-=L}return D}function pi(t,n,a){a.bytesFilled+=n}function gi(t){t._queueTotalSize===0&&t._closeRequested?(gr(t),Ht(t._controlledReadableByteStream)):Ye(t)}function bn(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function _i(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;let n=t._pendingPullIntos.peek();mi(t,n)&&(pr(t),_n(t._controlledReadableByteStream,n))}}function ys(t,n,a){let u=t._controlledReadableByteStream,h=1;n.constructor!==DataView&&(h=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,g=n.buffer,R={buffer:g,bufferByteLength:g.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:h,viewConstructor:p,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(R),Ri(u,a);return}if(u._state==="closed"){let D=new p(R.buffer,R.byteOffset,0);a._closeSteps(D);return}if(t._queueTotalSize>0){if(mi(t,R)){let D=hi(R);gi(t),a._chunkSteps(D);return}if(t._closeRequested){let D=new TypeError("Insufficient bytes to fill elements in the given buffer");ge(t,D),a._errorSteps(D);return}}t._pendingPullIntos.push(R),Ri(u,a),Ye(t)}function ws(t,n){let a=t._controlledReadableByteStream;if(Sn(a))for(;Ci(a)>0;){let u=pr(t);_n(a,u)}}function Ss(t,n,a){if(pi(t,n,a),a.bytesFilled<a.elementSize)return;pr(t);let u=a.bytesFilled%a.elementSize;if(u>0){let h=a.byteOffset+a.bytesFilled,p=hr(a.buffer,h-u,h);mr(t,p,0,p.byteLength)}a.bytesFilled-=u,_n(t._controlledReadableByteStream,a),_i(t)}function bi(t,n){let a=t._pendingPullIntos.peek();bn(t),t._controlledReadableByteStream._state==="closed"?ws(t):Ss(t,n,a),Ye(t)}function pr(t){return t._pendingPullIntos.shift()}function Rs(t){let n=t._controlledReadableByteStream;return n._state!=="readable"||t._closeRequested||!t._started?!1:!!(ur(n)&&ot(n)>0||Sn(n)&&Ci(n)>0||yi(t)>0)}function gr(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function $t(t){let n=t._controlledReadableByteStream;if(!(t._closeRequested||n._state!=="readable")){if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let u=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ge(t,u),u}gr(t),Ht(n)}}function _r(t,n){let a=t._controlledReadableByteStream;if(t._closeRequested||a._state!=="readable")return;let u=n.buffer,h=n.byteOffset,p=n.byteLength,g=u;if(t._pendingPullIntos.length>0){let R=t._pendingPullIntos.peek();st(R.buffer),R.buffer=R.buffer}if(bn(t),ur(a))if(ot(a)===0)mr(t,g,h,p);else{t._pendingPullIntos.length>0&&pr(t);let R=new Uint8Array(g,h,p);Dt(a,R,!1)}else Sn(a)?(mr(t,g,h,p),_i(t)):mr(t,g,h,p);Ye(t)}function ge(t,n){let a=t._controlledReadableByteStream;a._state==="readable"&&(di(t),We(t),gr(t),Ji(a,n))}function yn(t){if(t._byobRequest===null&&t._pendingPullIntos.length>0){let n=t._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),u=Object.create(xt.prototype);Es(u,t,a),t._byobRequest=u}return t._byobRequest}function yi(t){let n=t._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:t._strategyHWM-t._queueTotalSize}function br(t,n){let a=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,bi(t,n)}function yr(t,n){let a=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let h=n.byteLength;a.buffer=n.buffer,bi(t,h)}function wi(t,n,a,u,h,p,g){n._controlledReadableByteStream=t,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,We(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=u,n._cancelAlgorithm=h,n._autoAllocateChunkSize=g,n._pendingPullIntos=new Q,t._readableStreamController=n;let R=a();C(S(R),()=>{n._started=!0,Ye(n)},D=>{ge(n,D)})}function Cs(t,n,a){let u=Object.create(at.prototype),h=()=>{},p=()=>S(void 0),g=()=>S(void 0);n.start!==void 0&&(h=()=>n.start(u)),n.pull!==void 0&&(p=()=>n.pull(u)),n.cancel!==void 0&&(g=D=>n.cancel(D));let R=n.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wi(t,u,h,p,g,a,R)}function Es(t,n,a){t._associatedReadableByteStreamController=n,t._view=a}function wn(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function Ft(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function Si(t){return new Nt(t)}function Ri(t,n){t._reader._readIntoRequests.push(n)}function As(t,n,a){let h=t._reader._readIntoRequests.shift();a?h._closeSteps(n):h._chunkSteps(n)}function Ci(t){return t._reader._readIntoRequests.length}function Sn(t){let n=t._reader;return!(n===void 0||!Ze(n))}class Nt{constructor(n){if(me(n,1,"ReadableStreamBYOBReader"),kt(n,"First parameter"),He(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ge(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");it(this,n),this._readIntoRequests=new Q}get closed(){return Ze(this)?this._closedPromise:w(wr("closed"))}cancel(n=void 0){return Ze(this)?this._ownerReadableStream===void 0?w(P("cancel")):B(this,n):w(wr("cancel"))}read(n){if(!Ze(this))return w(wr("read"));if(!ArrayBuffer.isView(n))return w(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return w(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return w(new TypeError("view's buffer must have non-zero byteLength"));if(st(n.buffer),this._ownerReadableStream===void 0)return w(P("read from"));let a,u,h=b((g,R)=>{a=g,u=R});return Ei(this,n,{_chunkSteps:g=>a({value:g,done:!1}),_closeSteps:g=>a({value:g,done:!0}),_errorSteps:g=>u(g)}),h}releaseLock(){if(!Ze(this))throw wr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Y(this)}}}Object.defineProperties(Nt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ze(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")?!1:t instanceof Nt}function Ei(t,n,a){let u=t._ownerReadableStream;u._disturbed=!0,u._state==="errored"?a._errorSteps(u._storedError):ys(u._readableStreamController,n,a)}function wr(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Lt(t,n){let{highWaterMark:a}=t;if(a===void 0)return n;if(dr(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Sr(t){let{size:n}=t;return n||(()=>1)}function Rr(t,n){he(t,n);let a=t?.highWaterMark,u=t?.size;return{highWaterMark:a===void 0?void 0:Pt(a),size:u===void 0?void 0:Os(u,`${n} has member 'size' that`)}}function Os(t,n){return se(t,n),a=>Pt(t(a))}function Ts(t,n){he(t,n);let a=t?.abort,u=t?.close,h=t?.start,p=t?.type,g=t?.write;return{abort:a===void 0?void 0:vs(a,t,`${n} has member 'abort' that`),close:u===void 0?void 0:Ps(u,t,`${n} has member 'close' that`),start:h===void 0?void 0:ks(h,t,`${n} has member 'start' that`),write:g===void 0?void 0:Ds(g,t,`${n} has member 'write' that`),type:p}}function vs(t,n,a){return se(t,a),u=>F(t,n,[u])}function Ps(t,n,a){return se(t,a),()=>F(t,n,[])}function ks(t,n,a){return se(t,a),u=>q(t,n,[u])}function Ds(t,n,a){return se(t,a),(u,h)=>F(t,n,[u,h])}function Ai(t,n){if(!lt(t))throw new TypeError(`${n} is not a WritableStream.`)}function Is(t){if(typeof t!="object"||t===null)return!1;try{return typeof t.aborted=="boolean"}catch{return!1}}let Bs=typeof AbortController=="function";function xs(){if(Bs)return new AbortController}class qt{constructor(n={},a={}){n===void 0?n=null:or(n,"First parameter");let u=Rr(a,"Second parameter"),h=Ts(n,"First parameter");if(Ti(this),h.type!==void 0)throw new RangeError("Invalid type is specified");let g=Sr(u),R=Lt(u,1);Qs(this,h,R,g)}get locked(){if(!lt(this))throw Tr("locked");return ut(this)}abort(n=void 0){return lt(this)?ut(this)?w(new TypeError("Cannot abort a stream that already has a writer")):Cr(this,n):w(Tr("abort"))}close(){return lt(this)?ut(this)?w(new TypeError("Cannot close a stream that already has a writer")):Re(this)?w(new TypeError("Cannot close an already-closing stream")):vi(this):w(Tr("close"))}getWriter(){if(!lt(this))throw Tr("getWriter");return Oi(this)}}Object.defineProperties(qt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(qt.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Oi(t){return new Wt(t)}function $s(t,n,a,u,h=1,p=()=>1){let g=Object.create(qt.prototype);Ti(g);let R=Object.create(ft.prototype);return xi(g,R,t,n,a,u,h,p),g}function Ti(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new Q,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function lt(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")?!1:t instanceof qt}function ut(t){return t._writer!==void 0}function Cr(t,n){var a;if(t._state==="closed"||t._state==="errored")return S(void 0);t._writableStreamController._abortReason=n,(a=t._writableStreamController._abortController)===null||a===void 0||a.abort();let u=t._state;if(u==="closed"||u==="errored")return S(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let h=!1;u==="erroring"&&(h=!0,n=void 0);let p=b((g,R)=>{t._pendingAbortRequest={_promise:void 0,_resolve:g,_reject:R,_reason:n,_wasAlreadyErroring:h}});return t._pendingAbortRequest._promise=p,h||Cn(t,n),p}function vi(t){let n=t._state;if(n==="closed"||n==="errored")return w(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=b((h,p)=>{let g={_resolve:h,_reject:p};t._closeRequest=g}),u=t._writer;return u!==void 0&&t._backpressure&&n==="writable"&&In(u),Gs(t._writableStreamController),a}function Fs(t){return b((a,u)=>{let h={_resolve:a,_reject:u};t._writeRequests.push(h)})}function Rn(t,n){if(t._state==="writable"){Cn(t,n);return}En(t)}function Cn(t,n){let a=t._writableStreamController;t._state="erroring",t._storedError=n;let u=t._writer;u!==void 0&&ki(u,n),!Ms(t)&&a._started&&En(t)}function En(t){t._state="errored",t._writableStreamController[Te]();let n=t._storedError;if(t._writeRequests.forEach(h=>{h._reject(n)}),t._writeRequests=new Q,t._pendingAbortRequest===void 0){Er(t);return}let a=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),Er(t);return}let u=t._writableStreamController[te](a._reason);C(u,()=>{a._resolve(),Er(t)},h=>{a._reject(h),Er(t)})}function Ns(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function Ls(t,n){t._inFlightWriteRequest._reject(n),t._inFlightWriteRequest=void 0,Rn(t,n)}function qs(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,t._state==="erroring"&&(t._storedError=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let a=t._writer;a!==void 0&&Li(a)}function Ws(t,n){t._inFlightCloseRequest._reject(n),t._inFlightCloseRequest=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._reject(n),t._pendingAbortRequest=void 0),Rn(t,n)}function Re(t){return!(t._closeRequest===void 0&&t._inFlightCloseRequest===void 0)}function Ms(t){return!(t._inFlightWriteRequest===void 0&&t._inFlightCloseRequest===void 0)}function zs(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function js(t){t._inFlightWriteRequest=t._writeRequests.shift()}function Er(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let n=t._writer;n!==void 0&&kn(n,t._storedError)}function An(t,n){let a=t._writer;a!==void 0&&n!==t._backpressure&&(n?ra(a):In(a)),t._backpressure=n}class Wt{constructor(n){if(me(n,1,"WritableStreamDefaultWriter"),Ai(n,"First parameter"),ut(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!Re(n)&&n._backpressure?Pr(this):qi(this),vr(this);else if(a==="erroring")Dn(this,n._storedError),vr(this);else if(a==="closed")qi(this),ea(this);else{let u=n._storedError;Dn(this,u),Ni(this,u)}}get closed(){return Ke(this)?this._closedPromise:w(Xe("closed"))}get desiredSize(){if(!Ke(this))throw Xe("desiredSize");if(this._ownerWritableStream===void 0)throw Mt("desiredSize");return Js(this)}get ready(){return Ke(this)?this._readyPromise:w(Xe("ready"))}abort(n=void 0){return Ke(this)?this._ownerWritableStream===void 0?w(Mt("abort")):Hs(this,n):w(Xe("abort"))}close(){if(!Ke(this))return w(Xe("close"));let n=this._ownerWritableStream;return n===void 0?w(Mt("close")):Re(n)?w(new TypeError("Cannot close an already-closing stream")):Pi(this)}releaseLock(){if(!Ke(this))throw Xe("releaseLock");this._ownerWritableStream!==void 0&&Di(this)}write(n=void 0){return Ke(this)?this._ownerWritableStream===void 0?w(Mt("write to")):Ii(this,n):w(Xe("write"))}}Object.defineProperties(Wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ke(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")?!1:t instanceof Wt}function Hs(t,n){let a=t._ownerWritableStream;return Cr(a,n)}function Pi(t){let n=t._ownerWritableStream;return vi(n)}function Vs(t){let n=t._ownerWritableStream,a=n._state;return Re(n)||a==="closed"?S(void 0):a==="errored"?w(n._storedError):Pi(t)}function Us(t,n){t._closedPromiseState==="pending"?kn(t,n):ta(t,n)}function ki(t,n){t._readyPromiseState==="pending"?Wi(t,n):na(t,n)}function Js(t){let n=t._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:$i(n._writableStreamController)}function Di(t){let n=t._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ki(t,a),Us(t,a),n._writer=void 0,t._ownerWritableStream=void 0}function Ii(t,n){let a=t._ownerWritableStream,u=a._writableStreamController,h=Ys(u,n);if(a!==t._ownerWritableStream)return w(Mt("write to"));let p=a._state;if(p==="errored")return w(a._storedError);if(Re(a)||p==="closed")return w(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return w(a._storedError);let g=Fs(a);return Zs(u,n,h),g}let Bi={};class ft{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!On(this))throw Pn("abortReason");return this._abortReason}get signal(){if(!On(this))throw Pn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!On(this))throw Pn("error");this._controlledWritableStream._state==="writable"&&Fi(this,n)}[te](n){let a=this._abortAlgorithm(n);return Ar(this),a}[Te](){We(this)}}Object.defineProperties(ft.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ft.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function On(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")?!1:t instanceof ft}function xi(t,n,a,u,h,p,g,R){n._controlledWritableStream=t,t._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,We(n),n._abortReason=void 0,n._abortController=xs(),n._started=!1,n._strategySizeAlgorithm=R,n._strategyHWM=g,n._writeAlgorithm=u,n._closeAlgorithm=h,n._abortAlgorithm=p;let D=vn(n);An(t,D);let x=a(),N=S(x);C(N,()=>{n._started=!0,Or(n)},L=>{n._started=!0,Rn(t,L)})}function Qs(t,n,a,u){let h=Object.create(ft.prototype),p=()=>{},g=()=>S(void 0),R=()=>S(void 0),D=()=>S(void 0);n.start!==void 0&&(p=()=>n.start(h)),n.write!==void 0&&(g=x=>n.write(x,h)),n.close!==void 0&&(R=()=>n.close()),n.abort!==void 0&&(D=x=>n.abort(x)),xi(t,h,p,g,R,D,a,u)}function Ar(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Gs(t){pn(t,Bi,0),Or(t)}function Ys(t,n){try{return t._strategySizeAlgorithm(n)}catch(a){return Tn(t,a),1}}function $i(t){return t._strategyHWM-t._queueTotalSize}function Zs(t,n,a){try{pn(t,n,a)}catch(h){Tn(t,h);return}let u=t._controlledWritableStream;if(!Re(u)&&u._state==="writable"){let h=vn(t);An(u,h)}Or(t)}function Or(t){let n=t._controlledWritableStream;if(!t._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){En(n);return}if(t._queue.length===0)return;let u=bs(t);u===Bi?Ks(t):Xs(t,u)}function Tn(t,n){t._controlledWritableStream._state==="writable"&&Fi(t,n)}function Ks(t){let n=t._controlledWritableStream;zs(n),mn(t);let a=t._closeAlgorithm();Ar(t),C(a,()=>{qs(n)},u=>{Ws(n,u)})}function Xs(t,n){let a=t._controlledWritableStream;js(a);let u=t._writeAlgorithm(n);C(u,()=>{Ns(a);let h=a._state;if(mn(t),!Re(a)&&h==="writable"){let p=vn(t);An(a,p)}Or(t)},h=>{a._state==="writable"&&Ar(t),Ls(a,h)})}function vn(t){return $i(t)<=0}function Fi(t,n){let a=t._controlledWritableStream;Ar(t),Cn(a,n)}function Tr(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Pn(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function Xe(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Mt(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function vr(t){t._closedPromise=b((n,a)=>{t._closedPromise_resolve=n,t._closedPromise_reject=a,t._closedPromiseState="pending"})}function Ni(t,n){vr(t),kn(t,n)}function ea(t){vr(t),Li(t)}function kn(t,n){t._closedPromise_reject!==void 0&&(v(t._closedPromise),t._closedPromise_reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function ta(t,n){Ni(t,n)}function Li(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function Pr(t){t._readyPromise=b((n,a)=>{t._readyPromise_resolve=n,t._readyPromise_reject=a}),t._readyPromiseState="pending"}function Dn(t,n){Pr(t),Wi(t,n)}function qi(t){Pr(t),In(t)}function Wi(t,n){t._readyPromise_reject!==void 0&&(v(t._readyPromise),t._readyPromise_reject(n),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function ra(t){Pr(t)}function na(t,n){Dn(t,n)}function In(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}let Mi=typeof DOMException<"u"?DOMException:void 0;function ia(t){if(!(typeof t=="function"||typeof t=="object"))return!1;try{return new t,!0}catch{return!1}}function oa(){let t=function(a,u){this.message=a||"",this.name=u||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}let sa=ia(Mi)?Mi:oa();function zi(t,n,a,u,h,p){let g=ve(t),R=Oi(n);t._disturbed=!0;let D=!1,x=S(void 0);return b((N,L)=>{let V;if(p!==void 0){if(V=()=>{let O=new sa("Aborted","AbortError"),I=[];u||I.push(()=>n._state==="writable"?Cr(n,O):S(void 0)),h||I.push(()=>t._state==="readable"?_e(t,O):S(void 0)),ne(()=>Promise.all(I.map(M=>M())),!0,O)},p.aborted){V();return}p.addEventListener("abort",V)}function be(){return b((O,I)=>{function M(ae){ae?O():_(ht(),M,I)}M(!1)})}function ht(){return D?S(!0):_(R._readyPromise,()=>b((O,I)=>{ue(g,{_chunkSteps:M=>{x=_(Ii(R,M),void 0,r),O(!1)},_closeSteps:()=>O(!0),_errorSteps:I})}))}if(Pe(t,g._closedPromise,O=>{u?fe(!0,O):ne(()=>Cr(n,O),!0,O)}),Pe(n,R._closedPromise,O=>{h?fe(!0,O):ne(()=>_e(t,O),!0,O)}),K(t,g._closedPromise,()=>{a?fe():ne(()=>Vs(R))}),Re(n)||n._state==="closed"){let O=new TypeError("the destination writable stream closed before all data could be piped to it");h?fe(!0,O):ne(()=>_e(t,O),!0,O)}v(be());function Ve(){let O=x;return _(x,()=>O!==x?Ve():void 0)}function Pe(O,I,M){O._state==="errored"?M(O._storedError):T(I,M)}function K(O,I,M){O._state==="closed"?M():k(I,M)}function ne(O,I,M){if(D)return;D=!0,n._state==="writable"&&!Re(n)?k(Ve(),ae):ae();function ae(){C(O(),()=>ke(I,M),mt=>ke(!0,mt))}}function fe(O,I){D||(D=!0,n._state==="writable"&&!Re(n)?k(Ve(),()=>ke(O,I)):ke(O,I))}function ke(O,I){Di(R),Y(g),p!==void 0&&p.removeEventListener("abort",V),O?L(I):N(void 0)}})}class ct{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!kr(this))throw Br("desiredSize");return Bn(this)}close(){if(!kr(this))throw Br("close");if(!dt(this))throw new TypeError("The stream is not in a state that permits close");jt(this)}enqueue(n=void 0){if(!kr(this))throw Br("enqueue");if(!dt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ir(this,n)}error(n=void 0){if(!kr(this))throw Br("error");Me(this,n)}[de](n){We(this);let a=this._cancelAlgorithm(n);return Dr(this),a}[Tt](n){let a=this._controlledReadableStream;if(this._queue.length>0){let u=mn(this);this._closeRequested&&this._queue.length===0?(Dr(this),Ht(a)):zt(this),n._chunkSteps(u)}else lr(a,n),zt(this)}}Object.defineProperties(ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ct.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function kr(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")?!1:t instanceof ct}function zt(t){if(!ji(t))return;if(t._pulling){t._pullAgain=!0;return}t._pulling=!0;let a=t._pullAlgorithm();C(a,()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,zt(t))},u=>{Me(t,u)})}function ji(t){let n=t._controlledReadableStream;return!dt(t)||!t._started?!1:!!(He(n)&&ot(n)>0||Bn(t)>0)}function Dr(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function jt(t){if(!dt(t))return;let n=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(Dr(t),Ht(n))}function Ir(t,n){if(!dt(t))return;let a=t._controlledReadableStream;if(He(a)&&ot(a)>0)Dt(a,n,!1);else{let u;try{u=t._strategySizeAlgorithm(n)}catch(h){throw Me(t,h),h}try{pn(t,n,u)}catch(h){throw Me(t,h),h}}zt(t)}function Me(t,n){let a=t._controlledReadableStream;a._state==="readable"&&(We(t),Dr(t),Ji(a,n))}function Bn(t){let n=t._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:t._strategyHWM-t._queueTotalSize}function aa(t){return!ji(t)}function dt(t){let n=t._controlledReadableStream._state;return!t._closeRequested&&n==="readable"}function Hi(t,n,a,u,h,p,g){n._controlledReadableStream=t,n._queue=void 0,n._queueTotalSize=void 0,We(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=g,n._strategyHWM=p,n._pullAlgorithm=u,n._cancelAlgorithm=h,t._readableStreamController=n;let R=a();C(S(R),()=>{n._started=!0,zt(n)},D=>{Me(n,D)})}function la(t,n,a,u){let h=Object.create(ct.prototype),p=()=>{},g=()=>S(void 0),R=()=>S(void 0);n.start!==void 0&&(p=()=>n.start(h)),n.pull!==void 0&&(g=()=>n.pull(h)),n.cancel!==void 0&&(R=D=>n.cancel(D)),Hi(t,h,p,g,R,a,u)}function Br(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function ua(t,n){return Ge(t._readableStreamController)?ca(t):fa(t)}function fa(t,n){let a=ve(t),u=!1,h=!1,p=!1,g=!1,R,D,x,N,L,V=b(K=>{L=K});function be(){return u?(h=!0,S(void 0)):(u=!0,ue(a,{_chunkSteps:ne=>{A(()=>{h=!1;let fe=ne,ke=ne;p||Ir(x._readableStreamController,fe),g||Ir(N._readableStreamController,ke),u=!1,h&&be()})},_closeSteps:()=>{u=!1,p||jt(x._readableStreamController),g||jt(N._readableStreamController),(!p||!g)&&L(void 0)},_errorSteps:()=>{u=!1}}),S(void 0))}function ht(K){if(p=!0,R=K,g){let ne=Qe([R,D]),fe=_e(t,ne);L(fe)}return V}function Ve(K){if(g=!0,D=K,p){let ne=Qe([R,D]),fe=_e(t,ne);L(fe)}return V}function Pe(){}return x=xn(Pe,be,ht),N=xn(Pe,be,Ve),T(a._closedPromise,K=>{Me(x._readableStreamController,K),Me(N._readableStreamController,K),(!p||!g)&&L(void 0)}),[x,N]}function ca(t){let n=ve(t),a=!1,u=!1,h=!1,p=!1,g=!1,R,D,x,N,L,V=b(O=>{L=O});function be(O){T(O._closedPromise,I=>{O===n&&(ge(x._readableStreamController,I),ge(N._readableStreamController,I),(!p||!g)&&L(void 0))})}function ht(){Ze(n)&&(Y(n),n=ve(t),be(n)),ue(n,{_chunkSteps:I=>{A(()=>{u=!1,h=!1;let M=I,ae=I;if(!p&&!g)try{ae=ci(I)}catch(mt){ge(x._readableStreamController,mt),ge(N._readableStreamController,mt),L(_e(t,mt));return}p||_r(x._readableStreamController,M),g||_r(N._readableStreamController,ae),a=!1,u?Pe():h&&K()})},_closeSteps:()=>{a=!1,p||$t(x._readableStreamController),g||$t(N._readableStreamController),x._readableStreamController._pendingPullIntos.length>0&&br(x._readableStreamController,0),N._readableStreamController._pendingPullIntos.length>0&&br(N._readableStreamController,0),(!p||!g)&&L(void 0)},_errorSteps:()=>{a=!1}})}function Ve(O,I){re(n)&&(Y(n),n=Si(t),be(n));let M=I?N:x,ae=I?x:N;Ei(n,O,{_chunkSteps:pt=>{A(()=>{u=!1,h=!1;let gt=I?g:p;if(I?p:g)gt||yr(M._readableStreamController,pt);else{let so;try{so=ci(pt)}catch(Fn){ge(M._readableStreamController,Fn),ge(ae._readableStreamController,Fn),L(_e(t,Fn));return}gt||yr(M._readableStreamController,pt),_r(ae._readableStreamController,so)}a=!1,u?Pe():h&&K()})},_closeSteps:pt=>{a=!1;let gt=I?g:p,zr=I?p:g;gt||$t(M._readableStreamController),zr||$t(ae._readableStreamController),pt!==void 0&&(gt||yr(M._readableStreamController,pt),!zr&&ae._readableStreamController._pendingPullIntos.length>0&&br(ae._readableStreamController,0)),(!gt||!zr)&&L(void 0)},_errorSteps:()=>{a=!1}})}function Pe(){if(a)return u=!0,S(void 0);a=!0;let O=yn(x._readableStreamController);return O===null?ht():Ve(O._view,!1),S(void 0)}function K(){if(a)return h=!0,S(void 0);a=!0;let O=yn(N._readableStreamController);return O===null?ht():Ve(O._view,!0),S(void 0)}function ne(O){if(p=!0,R=O,g){let I=Qe([R,D]),M=_e(t,I);L(M)}return V}function fe(O){if(g=!0,D=O,p){let I=Qe([R,D]),M=_e(t,I);L(M)}return V}function ke(){}return x=Ui(ke,Pe,ne),N=Ui(ke,K,fe),be(n),[x,N]}function da(t,n){he(t,n);let a=t,u=a?.autoAllocateChunkSize,h=a?.cancel,p=a?.pull,g=a?.start,R=a?.type;return{autoAllocateChunkSize:u===void 0?void 0:ar(u,`${n} has member 'autoAllocateChunkSize' that`),cancel:h===void 0?void 0:ha(h,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:ma(p,a,`${n} has member 'pull' that`),start:g===void 0?void 0:pa(g,a,`${n} has member 'start' that`),type:R===void 0?void 0:ga(R,`${n} has member 'type' that`)}}function ha(t,n,a){return se(t,a),u=>F(t,n,[u])}function ma(t,n,a){return se(t,a),u=>F(t,n,[u])}function pa(t,n,a){return se(t,a),u=>q(t,n,[u])}function ga(t,n){if(t=`${t}`,t!=="bytes")throw new TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function _a(t,n){he(t,n);let a=t?.mode;return{mode:a===void 0?void 0:ba(a,`${n} has member 'mode' that`)}}function ba(t,n){if(t=`${t}`,t!=="byob")throw new TypeError(`${n} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function ya(t,n){return he(t,n),{preventCancel:!!t?.preventCancel}}function Vi(t,n){he(t,n);let a=t?.preventAbort,u=t?.preventCancel,h=t?.preventClose,p=t?.signal;return p!==void 0&&wa(p,`${n} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!u,preventClose:!!h,signal:p}}function wa(t,n){if(!Is(t))throw new TypeError(`${n} is not an AbortSignal.`)}function Sa(t,n){he(t,n);let a=t?.readable;vt(a,"readable","ReadableWritablePair"),kt(a,`${n} has member 'readable' that`);let u=t?.writable;return vt(u,"writable","ReadableWritablePair"),Ai(u,`${n} has member 'writable' that`),{readable:a,writable:u}}class ze{constructor(n={},a={}){n===void 0?n=null:or(n,"First parameter");let u=Rr(a,"Second parameter"),h=da(n,"First parameter");if($n(this),h.type==="bytes"){if(u.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=Lt(u,0);Cs(this,h,p)}else{let p=Sr(u),g=Lt(u,1);la(this,h,g,p)}}get locked(){if(!je(this))throw et("locked");return He(this)}cancel(n=void 0){return je(this)?He(this)?w(new TypeError("Cannot cancel a stream that already has a reader")):_e(this,n):w(et("cancel"))}getReader(n=void 0){if(!je(this))throw et("getReader");return _a(n,"First parameter").mode===void 0?ve(this):Si(this)}pipeThrough(n,a={}){if(!je(this))throw et("pipeThrough");me(n,1,"pipeThrough");let u=Sa(n,"First parameter"),h=Vi(a,"Second parameter");if(He(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(u.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=zi(this,u.writable,h.preventClose,h.preventAbort,h.preventCancel,h.signal);return v(p),u.readable}pipeTo(n,a={}){if(!je(this))return w(et("pipeTo"));if(n===void 0)return w("Parameter 1 is required in 'pipeTo'.");if(!lt(n))return w(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let u;try{u=Vi(a,"Second parameter")}catch(h){return w(h)}return He(this)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(n)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zi(this,n,u.preventClose,u.preventAbort,u.preventCancel,u.signal)}tee(){if(!je(this))throw et("tee");let n=ua(this);return Qe(n)}values(n=void 0){if(!je(this))throw et("values");let a=ya(n,"First parameter");return It(this,a.preventCancel)}}Object.defineProperties(ze.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ze.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(ze.prototype,e.asyncIterator,{value:ze.prototype.values,writable:!0,configurable:!0});function xn(t,n,a,u=1,h=()=>1){let p=Object.create(ze.prototype);$n(p);let g=Object.create(ct.prototype);return Hi(p,g,t,n,a,u,h),p}function Ui(t,n,a){let u=Object.create(ze.prototype);$n(u);let h=Object.create(at.prototype);return wi(u,h,t,n,a,0,void 0),u}function $n(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function je(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")?!1:t instanceof ze}function He(t){return t._reader!==void 0}function _e(t,n){if(t._disturbed=!0,t._state==="closed")return S(void 0);if(t._state==="errored")return w(t._storedError);Ht(t);let a=t._reader;a!==void 0&&Ze(a)&&(a._readIntoRequests.forEach(h=>{h._closeSteps(void 0)}),a._readIntoRequests=new Q);let u=t._readableStreamController[de](n);return E(u,r)}function Ht(t){t._state="closed";let n=t._reader;n!==void 0&&(le(n),re(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new Q))}function Ji(t,n){t._state="errored",t._storedError=n;let a=t._reader;a!==void 0&&(H(a,n),re(a)?(a._readRequests.forEach(u=>{u._errorSteps(n)}),a._readRequests=new Q):(a._readIntoRequests.forEach(u=>{u._errorSteps(n)}),a._readIntoRequests=new Q))}function et(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function Qi(t,n){he(t,n);let a=t?.highWaterMark;return vt(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Pt(a)}}let Gi=t=>t.byteLength;try{Object.defineProperty(Gi,"name",{value:"size",configurable:!0})}catch{}class xr{constructor(n){me(n,1,"ByteLengthQueuingStrategy"),n=Qi(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Zi(this))throw Yi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Zi(this))throw Yi("size");return Gi}}Object.defineProperties(xr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Yi(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function Zi(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")?!1:t instanceof xr}let Ki=()=>1;try{Object.defineProperty(Ki,"name",{value:"size",configurable:!0})}catch{}class $r{constructor(n){me(n,1,"CountQueuingStrategy"),n=Qi(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!eo(this))throw Xi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!eo(this))throw Xi("size");return Ki}}Object.defineProperties($r.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty($r.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Xi(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function eo(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")?!1:t instanceof $r}function Ra(t,n){he(t,n);let a=t?.flush,u=t?.readableType,h=t?.start,p=t?.transform,g=t?.writableType;return{flush:a===void 0?void 0:Ca(a,t,`${n} has member 'flush' that`),readableType:u,start:h===void 0?void 0:Ea(h,t,`${n} has member 'start' that`),transform:p===void 0?void 0:Aa(p,t,`${n} has member 'transform' that`),writableType:g}}function Ca(t,n,a){return se(t,a),u=>F(t,n,[u])}function Ea(t,n,a){return se(t,a),u=>q(t,n,[u])}function Aa(t,n,a){return se(t,a),(u,h)=>F(t,n,[u,h])}class Fr{constructor(n={},a={},u={}){n===void 0&&(n=null);let h=Rr(a,"Second parameter"),p=Rr(u,"Third parameter"),g=Ra(n,"First parameter");if(g.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(g.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=Lt(p,0),D=Sr(p),x=Lt(h,1),N=Sr(h),L,V=b(be=>{L=be});Oa(this,V,x,N,R,D),va(this,g),g.start!==void 0?L(g.start(this._transformStreamController)):L(void 0)}get readable(){if(!to(this))throw oo("readable");return this._readable}get writable(){if(!to(this))throw oo("writable");return this._writable}}Object.defineProperties(Fr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Fr.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Oa(t,n,a,u,h,p){function g(){return n}function R(V){return Da(t,V)}function D(V){return Ia(t,V)}function x(){return Ba(t)}t._writable=$s(g,R,x,D,a,u);function N(){return xa(t)}function L(V){return Lr(t,V),S(void 0)}t._readable=xn(g,N,L,h,p),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,qr(t,!0),t._transformStreamController=void 0}function to(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")?!1:t instanceof Fr}function Nr(t,n){Me(t._readable._readableStreamController,n),Lr(t,n)}function Lr(t,n){ro(t._transformStreamController),Tn(t._writable._writableStreamController,n),t._backpressure&&qr(t,!1)}function qr(t,n){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=b(a=>{t._backpressureChangePromise_resolve=a}),t._backpressure=n}class Vt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Wr(this))throw Mr("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return Bn(n)}enqueue(n=void 0){if(!Wr(this))throw Mr("enqueue");no(this,n)}error(n=void 0){if(!Wr(this))throw Mr("error");Pa(this,n)}terminate(){if(!Wr(this))throw Mr("terminate");ka(this)}}Object.defineProperties(Vt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Wr(t){return!l(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")?!1:t instanceof Vt}function Ta(t,n,a,u){n._controlledTransformStream=t,t._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=u}function va(t,n){let a=Object.create(Vt.prototype),u=p=>{try{return no(a,p),S(void 0)}catch(g){return w(g)}},h=()=>S(void 0);n.transform!==void 0&&(u=p=>n.transform(p,a)),n.flush!==void 0&&(h=()=>n.flush(a)),Ta(t,a,u,h)}function ro(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function no(t,n){let a=t._controlledTransformStream,u=a._readable._readableStreamController;if(!dt(u))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ir(u,n)}catch(p){throw Lr(a,p),a._readable._storedError}aa(u)!==a._backpressure&&qr(a,!0)}function Pa(t,n){Nr(t._controlledTransformStream,n)}function io(t,n){let a=t._transformAlgorithm(n);return E(a,void 0,u=>{throw Nr(t._controlledTransformStream,u),u})}function ka(t){let n=t._controlledTransformStream,a=n._readable._readableStreamController;jt(a);let u=new TypeError("TransformStream terminated");Lr(n,u)}function Da(t,n){let a=t._transformStreamController;if(t._backpressure){let u=t._backpressureChangePromise;return E(u,()=>{let h=t._writable;if(h._state==="erroring")throw h._storedError;return io(a,n)})}return io(a,n)}function Ia(t,n){return Nr(t,n),S(void 0)}function Ba(t){let n=t._readable,a=t._transformStreamController,u=a._flushAlgorithm();return ro(a),E(u,()=>{if(n._state==="errored")throw n._storedError;jt(n._readableStreamController)},h=>{throw Nr(t,h),n._storedError})}function xa(t){return qr(t,!1),t._backpressureChangePromise}function Mr(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function oo(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}s.ByteLengthQueuingStrategy=xr,s.CountQueuingStrategy=$r,s.ReadableByteStreamController=at,s.ReadableStream=ze,s.ReadableStreamBYOBReader=Nt,s.ReadableStreamBYOBRequest=xt,s.ReadableStreamDefaultController=ct,s.ReadableStreamDefaultReader=pe,s.TransformStream=Fr,s.TransformStreamDefaultController=Vt,s.WritableStream=qt,s.WritableStreamDefaultController=ft,s.WritableStreamDefaultWriter=Wt,Object.defineProperty(s,"__esModule",{value:!0})})});var Bo=Ce(()=>{if(!globalThis.ReadableStream)try{let s=De("process"),{emitWarning:e}=s;try{s.emitWarning=()=>{},Object.assign(globalThis,De("stream/web")),s.emitWarning=e}catch(r){throw s.emitWarning=e,r}}catch{Object.assign(globalThis,Io())}try{let{Blob:s}=De("buffer");s&&!s.prototype.stream&&(s.prototype.stream=function(r){let i=0,o=this;return new ReadableStream({type:"bytes",async pull(l){let d=await o.slice(i,Math.min(o.size,i+65536)).arrayBuffer();i+=d.byteLength,l.enqueue(new Uint8Array(d)),i===o.size&&l.close()}})})}catch{}});async function*ei(s,e=!0){for(let r of s)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let i=r.byteOffset,o=r.byteOffset+r.byteLength;for(;i!==o;){let l=Math.min(o-i,xo),f=r.buffer.slice(i,i+l);i+=f.byteLength,yield new Uint8Array(f)}}else yield r;else{let i=0,o=r;for(;i!==o.size;){let f=await o.slice(i,Math.min(o.size,i+xo)).arrayBuffer();i+=f.byteLength,yield new Uint8Array(f)}}}var Yu,xo,$o,hl,Be,Yt=Ut(()=>{Yu=Ln(Bo(),1);xo=65536;$o=class ti{#e=[];#t="";#r=0;#n="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let i=new TextEncoder;for(let l of e){let f;ArrayBuffer.isView(l)?f=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?f=new Uint8Array(l.slice(0)):l instanceof ti?f=l:f=i.encode(`${l}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let o=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#r}get type(){return this.#t}async text(){let e=new TextDecoder,r="";for await(let i of ei(this.#e,!1))r+=e.decode(i,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let i of ei(this.#e,!1))e.set(i,r),r+=i.length;return e.buffer}stream(){let e=ei(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let i=await e.next();i.done?r.close():r.enqueue(i.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,i=""){let{size:o}=this,l=e<0?Math.max(o+e,0):Math.min(e,o),f=r<0?Math.max(o+r,0):Math.min(r,o),d=Math.max(f-l,0),c=this.#e,m=[],y=0;for(let S of c){if(y>=d)break;let w=ArrayBuffer.isView(S)?S.byteLength:S.size;if(l&&w<=l)l-=w,f-=w;else{let _;ArrayBuffer.isView(S)?(_=S.subarray(l,Math.min(w,f)),y+=_.byteLength):(_=S.slice(l,Math.min(w,f)),y+=_.size),f-=w,m.push(_),l=0}}let b=new ti([],{type:String(i).toLowerCase()});return b.#r=d,b.#e=m,b}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties($o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});hl=$o,Be=hl});var ml,pl,yt,ri=Ut(()=>{Yt();ml=class extends Be{#e=0;#t="";constructor(e,r,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,i),i===null&&(i={});let o=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(o)||(this.#e=o),this.#t=String(r)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof Be&&/^(File)$/.test(e[Symbol.toStringTag])}},pl=ml,yt=pl});function Lo(s,e=Be){var r=`${Fo()}${Fo()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],o=`--${r}\r
Content-Disposition: form-data; name="`;return s.forEach((l,f)=>typeof l=="string"?i.push(o+ni(f)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(o+ni(f)+`"; filename="${ni(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),i.push(`--${r}--`),new e(i,{type:"multipart/form-data; boundary="+r})}var Zt,gl,_l,Fo,bl,No,ni,tt,rt,Qr=Ut(()=>{Yt();ri();({toStringTag:Zt,iterator:gl,hasInstance:_l}=Symbol),Fo=Math.random,bl="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),No=(s,e,r)=>(s+="",/^(Blob|File)$/.test(e&&e[Zt])?[(r=r!==void 0?r+"":e[Zt]=="File"?e.name:"blob",s),e.name!==r||e[Zt]=="blob"?new yt([e],r,e):e]:[s,e+""]),ni=(s,e)=>(e?s:s.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),tt=(s,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${s}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},rt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Zt](){return"FormData"}[gl](){return this.entries()}static[_l](e){return e&&typeof e=="object"&&e[Zt]==="FormData"&&!bl.some(r=>typeof e[r]!="function")}append(...e){tt("append",arguments,2),this.#e.push(No(...e))}delete(e){tt("delete",arguments,1),e+="",this.#e=this.#e.filter(([r])=>r!==e)}get(e){tt("get",arguments,1),e+="";for(var r=this.#e,i=r.length,o=0;o<i;o++)if(r[o][0]===e)return r[o][1];return null}getAll(e,r){return tt("getAll",arguments,1),r=[],e+="",this.#e.forEach(i=>i[0]===e&&r.push(i[1])),r}has(e){return tt("has",arguments,1),e+="",this.#e.some(r=>r[0]===e)}forEach(e,r){tt("forEach",arguments,1);for(var[i,o]of this)e.call(r,o,i,this)}set(...e){tt("set",arguments,2);var r=[],i=!0;e=No(...e),this.#e.forEach(o=>{o[0]===e[0]?i&&(i=!r.push(e)):r.push(o)}),i&&r.push(e),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var jo=Ce((ff,zo)=>{if(!globalThis.DOMException)try{let{MessageChannel:s}=De("worker_threads"),e=new s().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(s){s.constructor.name==="DOMException"&&(globalThis.DOMException=s.constructor)}zo.exports=globalThis.DOMException});import{statSync as df,createReadStream as yl,promises as wl}from"fs";var Ho,Sl,Yr,oi=Ut(()=>{Ho=Ln(jo(),1);ri();Yt();({stat:Sl}=wl),Yr=class{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new Yr({path:this.#e,lastModified:this.lastModified,size:r-e,start:this.#t+e})}async*stream(){let{mtimeMs:e}=await Sl(this.#e);if(e>this.lastModified)throw new Ho.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*yl(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Uo={};Wa(Uo,{toFormData:()=>vl});function Tl(s){let e=s.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",i=r.slice(r.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(o,l)=>String.fromCharCode(l)),i}async function vl(s,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new si(r[1]||r[2]),o,l,f,d,c,m,y=[],b=new rt,S=T=>{f+=k.decode(T,{stream:!0})},w=T=>{y.push(T)},_=()=>{let T=new yt(y,m,{type:c});b.append(d,T)},C=()=>{b.append(d,f)},k=new TextDecoder("utf-8");k.decode(),i.onPartBegin=function(){i.onPartData=S,i.onPartEnd=C,o="",l="",f="",d="",c="",m=null,y.length=0},i.onHeaderField=function(T){o+=k.decode(T,{stream:!0})},i.onHeaderValue=function(T){l+=k.decode(T,{stream:!0})},i.onHeaderEnd=function(){if(l+=k.decode(),o=o.toLowerCase(),o==="content-disposition"){let T=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);T&&(d=T[2]||T[3]||""),m=Tl(l),m&&(i.onPartData=w,i.onPartEnd=_)}else o==="content-type"&&(c=l);l="",o=""};for await(let T of s)i.write(T);return i.end(),b}var Ee,z,Vo,Ue,Zr,Kr,Rl,Xt,Cl,El,Al,Ol,nt,si,Jo=Ut(()=>{oi();Qr();Ee=0,z={START_BOUNDARY:Ee++,HEADER_FIELD_START:Ee++,HEADER_FIELD:Ee++,HEADER_VALUE_START:Ee++,HEADER_VALUE:Ee++,HEADER_VALUE_ALMOST_DONE:Ee++,HEADERS_ALMOST_DONE:Ee++,PART_DATA_START:Ee++,PART_DATA:Ee++,END:Ee++},Vo=1,Ue={PART_BOUNDARY:Vo,LAST_BOUNDARY:Vo*=2},Zr=10,Kr=13,Rl=32,Xt=45,Cl=58,El=97,Al=122,Ol=s=>s|32,nt=()=>{},si=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=nt,this.onHeaderField=nt,this.onHeadersEnd=nt,this.onHeaderValue=nt,this.onPartBegin=nt,this.onPartData=nt,this.onPartEnd=nt,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i),this.boundaryChars[r[i]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(e){let r=0,i=e.length,o=this.index,{lookbehind:l,boundary:f,boundaryChars:d,index:c,state:m,flags:y}=this,b=this.boundary.length,S=b-1,w=e.length,_,C,k=A=>{this[A+"Mark"]=r},T=A=>{delete this[A+"Mark"]},E=(A,q,F,Z)=>{(q===void 0||q!==F)&&this[A](Z&&Z.subarray(q,F))},v=(A,q)=>{let F=A+"Mark";F in this&&(q?(E(A,this[F],r,e),delete this[F]):(E(A,this[F],e.length,e),this[F]=0))};for(r=0;r<i;r++)switch(_=e[r],m){case z.START_BOUNDARY:if(c===f.length-2){if(_===Xt)y|=Ue.LAST_BOUNDARY;else if(_!==Kr)return;c++;break}else if(c-1===f.length-2){if(y&Ue.LAST_BOUNDARY&&_===Xt)m=z.END,y=0;else if(!(y&Ue.LAST_BOUNDARY)&&_===Zr)c=0,E("onPartBegin"),m=z.HEADER_FIELD_START;else return;break}_!==f[c+2]&&(c=-2),_===f[c+2]&&c++;break;case z.HEADER_FIELD_START:m=z.HEADER_FIELD,k("onHeaderField"),c=0;case z.HEADER_FIELD:if(_===Kr){T("onHeaderField"),m=z.HEADERS_ALMOST_DONE;break}if(c++,_===Xt)break;if(_===Cl){if(c===1)return;v("onHeaderField",!0),m=z.HEADER_VALUE_START;break}if(C=Ol(_),C<El||C>Al)return;break;case z.HEADER_VALUE_START:if(_===Rl)break;k("onHeaderValue"),m=z.HEADER_VALUE;case z.HEADER_VALUE:_===Kr&&(v("onHeaderValue",!0),E("onHeaderEnd"),m=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(_!==Zr)return;m=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(_!==Zr)return;E("onHeadersEnd"),m=z.PART_DATA_START;break;case z.PART_DATA_START:m=z.PART_DATA,k("onPartData");case z.PART_DATA:if(o=c,c===0){for(r+=S;r<w&&!(e[r]in d);)r+=b;r-=S,_=e[r]}if(c<f.length)f[c]===_?(c===0&&v("onPartData",!0),c++):c=0;else if(c===f.length)c++,_===Kr?y|=Ue.PART_BOUNDARY:_===Xt?y|=Ue.LAST_BOUNDARY:c=0;else if(c-1===f.length)if(y&Ue.PART_BOUNDARY){if(c=0,_===Zr){y&=~Ue.PART_BOUNDARY,E("onPartEnd"),E("onPartBegin"),m=z.HEADER_FIELD_START;break}}else y&Ue.LAST_BOUNDARY&&_===Xt?(E("onPartEnd"),m=z.END,y=0):c=0;if(c>0)l[c-1]=_;else if(o>0){let A=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);E("onPartData",0,o,A),o=0,k("onPartData"),r--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${m}`)}v("onHeaderField"),v("onHeaderValue"),v("onPartData"),this.index=c,this.state=m,this.flags=y}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Ro=Ln(So(),1),{program:_u,createCommand:bu,createArgument:yu,createOption:wu,CommanderError:Su,InvalidArgumentError:Ru,InvalidOptionArgumentError:Cu,Command:Co,Argument:Eu,Option:_t,Help:Au}=Ro.default;import Et from"path";import tu from"os";import Fe from"fs/promises";var $=class extends Error{constructor(e,r,i,...o){Array.isArray(r)&&(r=r.join(" ").trim()),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,$),this.code=e;for(let l of o)for(let f in l){let d=l[f];this[f]=Buffer.isBuffer(d)?d.toString(i.encoding):d==null?d:JSON.parse(JSON.stringify(d))}}};var Eo=function(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)};var Ur=function(s){let e=[];for(let r=0,i=s.length;r<i;r++){let o=s[r];if(o==null||o===!1)e[r]={disabled:!0};else if(typeof o=="string")e[r]={name:o};else if(Eo(o)){if(typeof o.name!="string")throw new $("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);e[r]=o}else throw new $("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(o)} at position ${r}`])}return e};var Zn=class{constructor(e=100){this.size=e,this.length=0,this.buf=Buffer.allocUnsafe(e)}prepend(e){if(Buffer.isBuffer(e)){let r=this.length+e.length;if(r>=this.size&&(this.resize(),r>=this.size))throw Error("INVALID_BUFFER_STATE");let i=this.buf;this.buf=Buffer.allocUnsafe(this.size),e.copy(this.buf,0),i.copy(this.buf,e.length),this.length+=e.length}else{let r=this.length++;r===this.size&&this.resize();let i=this.clone();this.buf[0]=e,i.copy(this.buf,1,0,r)}}append(e){let r=this.length++;r===this.size&&this.resize(),this.buf[r]=e}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=this.size*2;let r=Buffer.allocUnsafe(this.size);this.buf.copy(r,0,0,e),this.buf=r}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}},Kn=Zn;var ol=12,sl=13,al=10,ll=32,ul=9,Ao=function(s){return{bomSkipped:!1,bufBytesStart:0,castField:s.cast_function,commenting:!1,error:void 0,enabled:s.from_line===1,escaping:!1,escapeIsQuote:Buffer.isBuffer(s.escape)&&Buffer.isBuffer(s.quote)&&Buffer.compare(s.escape,s.quote)===0,expectedRecordLength:Array.isArray(s.columns)?s.columns.length:void 0,field:new Kn(20),firstLineToHeaders:s.cast_first_line_to_header,needMoreDataSize:Math.max(s.comment!==null?s.comment.length:0,...s.delimiter.map(e=>e.length),s.quote!==null?s.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new Kn(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:s.record_delimiter.length===0?0:Math.max(...s.record_delimiter.map(e=>e.length)),trimChars:[Buffer.from(" ",s.encoding)[0],Buffer.from("	",s.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Buffer.from(Buffer.from([sl],"utf8").toString(),s.encoding),Buffer.from(Buffer.from([al],"utf8").toString(),s.encoding),Buffer.from(Buffer.from([ol],"utf8").toString(),s.encoding),Buffer.from(Buffer.from([ll],"utf8").toString(),s.encoding),Buffer.from(Buffer.from([ul],"utf8").toString(),s.encoding)]}};var Oo=function(s){return s.replace(/([A-Z])/g,function(e,r){return"_"+r.toLowerCase()})};var Xn=function(s){let e={};for(let i in s)e[Oo(i)]=s[i];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new $("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new $("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new $("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(i){let o=Date.parse(i);return isNaN(o)?i:new Date(o)};else if(typeof e.cast_date!="function")throw new $("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=Ur(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new $("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new $("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new $("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=Buffer.from(e.comment,e.encoding)),!Buffer.isBuffer(e.comment))throw new $("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);let r=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new $("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],e);if(e.delimiter=e.delimiter.map(function(i){if(i==null||i===!1)return Buffer.from(",",e.encoding);if(typeof i=="string"&&(i=Buffer.from(i,e.encoding)),!Buffer.isBuffer(i)||i.length===0)throw new $("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],e);return i}),e.escape===void 0||e.escape===!0?e.escape=Buffer.from('"',e.encoding):typeof e.escape=="string"?e.escape=Buffer.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(s.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(s.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(s.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new $("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new $("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new $("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=Buffer.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=Buffer.from(e.quote,e.encoding)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||Buffer.isBuffer(e.record_delimiter)){if(e.record_delimiter.length===0)throw new $("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new $("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(i,o){if(typeof i!="string"&&!Buffer.isBuffer(i))throw new $("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${o},`,`got ${JSON.stringify(i)}`],e);if(i.length===0)throw new $("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${o},`,`got ${JSON.stringify(i)}`],e);return typeof i=="string"&&(i=Buffer.from(i,e.encoding)),i}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&s.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&s.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(s.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(s.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(s.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(s.to_line)}`);return e};var To=function(s){return s.every(e=>e==null||e.toString&&e.toString().trim()==="")},fl=13,cl=10,bt={utf8:Buffer.from([239,187,191]),utf16le:Buffer.from([255,254])},vo=function(s={}){let e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},r=Xn(s);return{info:e,original_options:s,options:r,state:Ao(r),__needMoreData:function(i,o,l){if(l)return!1;let{encoding:f,escape:d,quote:c}=this.options,{quoting:m,needMoreDataSize:y,recordDelimiterMaxLength:b}=this.state,S=o-i-1,w=Math.max(y,b===0?Buffer.from(`\r
`,f).length:b,m?(d===null?0:d.length)+c.length:0,m?c.length+b:0);return S<w},parse:function(i,o,l,f){let{bom:d,encoding:c,from_line:m,ltrim:y,max_record_size:b,raw:S,relax_quotes:w,rtrim:_,skip_empty_lines:C,to:k,to_line:T}=this.options,{comment:E,escape:v,quote:A,record_delimiter:q}=this.options,{bomSkipped:F,previousBuf:Z,rawBuffer:Q,escapeIsQuote:it}=this.state,B;if(Z===void 0)if(i===void 0){f();return}else B=i;else Z!==void 0&&i===void 0?B=Z:B=Buffer.concat([Z,i]);if(F===!1)if(d===!1)this.state.bomSkipped=!0;else if(B.length<3){if(o===!1){this.state.previousBuf=B;return}}else{for(let W in bt)if(bt[W].compare(B,0,bt[W].length)===0){let ee=bt[W].length;this.state.bufBytesStart+=ee,B=B.slice(ee),this.options=Xn({...this.original_options,encoding:W}),{comment:E,escape:v,quote:A}=this.options;break}this.state.bomSkipped=!0}let Y=B.length,P;for(P=0;P<Y&&!this.__needMoreData(P,Y,o);P++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),T!==-1&&this.info.lines>T){this.state.stop=!0,f();return}this.state.quoting===!1&&q.length===0&&this.__autoDiscoverRecordDelimiter(B,P)&&(q=this.options.record_delimiter);let W=B[P];if(S===!0&&Q.append(W),(W===fl||W===cl)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(v!==null&&this.state.quoting===!0&&this.__isEscape(B,P,W)&&P+v.length<Y)if(it){if(this.__isQuote(B,P+v.length)){this.state.escaping=!0,P+=v.length-1;continue}}else{this.state.escaping=!0,P+=v.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(B,P))if(this.state.quoting===!0){let H=B[P+A.length],Oe=_&&this.__isCharTrimable(B,P+A.length),le=E!==null&&this.__compareBytes(E,B,P+A.length,H),te=this.__isDelimiter(B,P+A.length,H),Te=q.length===0?this.__autoDiscoverRecordDelimiter(B,P+A.length):this.__isRecordDelimiter(H,B,P+A.length);if(v!==null&&this.__isEscape(B,P,W)&&this.__isQuote(B,P+v.length))P+=v.length-1;else if(!H||te||Te||le||Oe){this.state.quoting=!1,this.state.wasQuoting=!0,P+=A.length-1;continue}else if(w===!1){let de=this.__error(new $("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(H)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(de!==void 0)return de}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(A),P+=A.length-1}else if(this.state.field.length!==0){if(w===!1){let H=this.__infoField(),Oe=Object.keys(bt).map(te=>bt[te].equals(this.state.field.toString())?te:!1).filter(Boolean)[0],le=this.__error(new $("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(H.column)} at line ${H.lines}, value is ${JSON.stringify(this.state.field.toString(c))}`,Oe?`(${Oe} bom)`:void 0],this.options,H,{field:this.state.field}));if(le!==void 0)return le}}else{this.state.quoting=!0,P+=A.length-1;continue}if(this.state.quoting===!1){let H=this.__isRecordDelimiter(W,B,P);if(H!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=m){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),P+=H-1;continue}if(C===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,P+=H-1;continue}this.info.bytes=this.state.bufBytesStart+P;let Te=this.__onField();if(Te!==void 0)return Te;this.info.bytes=this.state.bufBytesStart+P+H;let de=this.__onRecord(l);if(de!==void 0)return de;if(k!==-1&&this.info.records>=k){this.state.stop=!0,f();return}}this.state.commenting=!1,P+=H-1;continue}if(this.state.commenting)continue;if((E===null?0:this.__compareBytes(E,B,P,W))!==0){this.state.commenting=!0;continue}let le=this.__isDelimiter(B,P,W);if(le!==0){this.info.bytes=this.state.bufBytesStart+P;let te=this.__onField();if(te!==void 0)return te;P+=le-1;continue}}}if(this.state.commenting===!1&&b!==0&&this.state.record_length+this.state.field.length>b)return this.__error(new $("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${b}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let ee=y===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(B,P),Ot=_===!1||this.state.wasQuoting===!1;if(ee===!0&&Ot===!0)this.state.field.append(W);else{if(_===!0&&!this.__isCharTrimable(B,P))return this.__error(new $("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));ee===!1&&(P+=this.__isCharTrimable(B,P)-1);continue}}if(o===!0)if(this.state.quoting===!0){let W=this.__error(new $("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(W!==void 0)return W}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+P;let W=this.__onField();if(W!==void 0)return W;let ee=this.__onRecord(l);if(ee!==void 0)return ee}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=P,this.state.previousBuf=B.slice(P);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(i){let{columns:o,group_columns_by_name:l,encoding:f,info:d,from:c,relax_column_count:m,relax_column_count_less:y,relax_column_count_more:b,raw:S,skip_records_with_empty_values:w}=this.options,{enabled:_,record:C}=this.state;if(_===!1)return this.__resetRecord();let k=C.length;if(o===!0){if(w===!0&&To(C)){this.__resetRecord();return}return this.__firstLineToColumns(C)}if(o===!1&&this.info.records===0&&(this.state.expectedRecordLength=k),k!==this.state.expectedRecordLength){let T=o===!1?new $("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${k} on line ${this.info.lines}`],this.options,this.__infoField(),{record:C}):new $("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${o.length},`,`got ${k} on line ${this.info.lines}`],this.options,this.__infoField(),{record:C});if(m===!0||y===!0&&k<this.state.expectedRecordLength||b===!0&&k>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=T;else{let E=this.__error(T);if(E)return E}}if(w===!0&&To(C)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,c===1||this.info.records>=c){let{objname:T}=this.options;if(o!==!1){let E={};for(let v=0,A=C.length;v<A;v++)o[v]===void 0||o[v].disabled||(l===!0&&E[o[v].name]!==void 0?Array.isArray(E[o[v].name])?E[o[v].name]=E[o[v].name].concat(C[v]):E[o[v].name]=[E[o[v].name],C[v]]:E[o[v].name]=C[v]);if(S===!0||d===!0){let v=Object.assign({record:E},S===!0?{raw:this.state.rawBuffer.toString(f)}:{},d===!0?{info:this.__infoRecord()}:{}),A=this.__push(T===void 0?v:[E[T],v],i);if(A)return A}else{let v=this.__push(T===void 0?E:[E[T],E],i);if(v)return v}}else if(S===!0||d===!0){let E=Object.assign({record:C},S===!0?{raw:this.state.rawBuffer.toString(f)}:{},d===!0?{info:this.__infoRecord()}:{}),v=this.__push(T===void 0?E:[C[T],E],i);if(v)return v}else{let E=this.__push(T===void 0?C:[C[T],C],i);if(E)return E}}this.__resetRecord()},__firstLineToColumns:function(i){let{firstLineToHeaders:o}=this.state;try{let l=o===void 0?i:o.call(null,i);if(!Array.isArray(l))return this.__error(new $("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(l)}`],this.options,this.__infoField(),{headers:l}));let f=Ur(l);this.state.expectedRecordLength=f.length,this.options.columns=f,this.__resetRecord();return}catch(l){return l}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:i,encoding:o,rtrim:l,max_record_size:f}=this.options,{enabled:d,wasQuoting:c}=this.state;if(d===!1)return this.__resetField();let m=this.state.field.toString(o);if(l===!0&&c===!1&&(m=m.trimRight()),i===!0){let[y,b]=this.__cast(m);if(y!==void 0)return y;m=b}this.state.record.push(m),f!==0&&typeof m=="string"&&(this.state.record_length+=m.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(i,o){let{on_record:l}=this.options;if(l!==void 0){let f=this.__infoRecord();try{i=l.call(null,i,f)}catch(d){return d}if(i==null)return}o(i)},__cast:function(i){let{columns:o,relax_column_count:l}=this.options;if(Array.isArray(o)===!0&&l&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{let d=this.__infoField();return[void 0,this.state.castField.call(null,i,d)]}catch(d){return[d]}if(this.__isFloat(i))return[void 0,parseFloat(i)];if(this.options.cast_date!==!1){let d=this.__infoField();return[void 0,this.options.cast_date.call(null,i,d)]}return[void 0,i]},__isCharTrimable:function(i,o){return((f,d)=>{let{timchars:c}=this.state;e:for(let m=0;m<c.length;m++){let y=c[m];for(let b=0;b<y.length;b++)if(y[b]!==f[d+b])continue e;return y.length}return 0})(i,o)},__isFloat:function(i){return i-parseFloat(i)+1>=0},__compareBytes:function(i,o,l,f){if(i[0]!==f)return 0;let d=i.length;for(let c=1;c<d;c++)if(i[c]!==o[l+c])return 0;return d},__isDelimiter:function(i,o,l){let{delimiter:f,ignore_last_delimiters:d}=this.options;if(d===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(d!==!1&&typeof d=="number"&&this.state.record.length===d-1)return 0;e:for(let c=0;c<f.length;c++){let m=f[c];if(m[0]===l){for(let y=1;y<m.length;y++)if(m[y]!==i[o+y])continue e;return m.length}}return 0},__isRecordDelimiter:function(i,o,l){let{record_delimiter:f}=this.options,d=f.length;e:for(let c=0;c<d;c++){let m=f[c],y=m.length;if(m[0]===i){for(let b=1;b<y;b++)if(m[b]!==o[l+b])continue e;return m.length}}return 0},__isEscape:function(i,o,l){let{escape:f}=this.options;if(f===null)return!1;let d=f.length;if(f[0]===l){for(let c=0;c<d;c++)if(f[c]!==i[o+c])return!1;return!0}return!1},__isQuote:function(i,o){let{quote:l}=this.options;if(l===null)return!1;let f=l.length;for(let d=0;d<f;d++)if(l[d]!==i[o+d])return!1;return!0},__autoDiscoverRecordDelimiter:function(i,o){let{encoding:l}=this.options,f=[Buffer.from(`\r
`,l),Buffer.from(`
`,l),Buffer.from("\r",l)];e:for(let d=0;d<f.length;d++){let c=f[d].length;for(let m=0;m<c;m++)if(f[d][m]!==i[o+m])continue e;return this.options.record_delimiter.push(f[d]),this.state.recordDelimiterMaxLength=f[d].length,f[d].length}return 0},__error:function(i){let{encoding:o,raw:l,skip_records_with_error:f}=this.options,d=typeof i=="string"?new Error(i):i;if(f){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(d,l?this.state.rawBuffer.toString(o):void 0);return}else return d},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:i,raw:o,encoding:l}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:i===!0,index:this.state.record.length,raw:o?this.state.rawBuffer.toString(l):void 0}},__infoField:function(){let{columns:i}=this.options,o=Array.isArray(i);return{...this.__infoRecord(),column:o===!0?i.length>this.state.record.length?i[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}};var Po=function(s,e={}){typeof s=="string"&&(s=Buffer.from(s));let r=e&&e.objname?{}:[],i=vo(e),o=c=>{i.options.objname===void 0?r.push(c):r[c[0]]=c[1]},l=()=>{},f=i.parse(s,!1,o,l);if(f!==void 0)throw f;let d=i.parse(void 0,!0,o,l);if(d!==void 0)throw d;return r};import Ll from"http";import ql from"https";import Rt from"zlib";import ls,{PassThrough as us,pipeline as Ct}from"stream";import{Buffer as on}from"buffer";function dl(s){if(!/^data:/i.test(s))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');s=s.replace(/\r?\n/g,"");let e=s.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=s.substring(5,e).split(";"),i="",o=!1,l=r[0]||"text/plain",f=l;for(let y=1;y<r.length;y++)r[y]==="base64"?o=!0:r[y]&&(f+=`;${r[y]}`,r[y].indexOf("charset=")===0&&(i=r[y].substring(8)));!r[0]&&!i.length&&(f+=";charset=US-ASCII",i="US-ASCII");let d=o?"base64":"ascii",c=unescape(s.substring(e+1)),m=Buffer.from(c,d);return m.type=l,m.typeFull=f,m.charset=i,m}var ko=dl;Yt();Qr();import Je,{PassThrough as Qo}from"stream";import{types as Go,deprecate as li,promisify as Pl}from"util";import{Buffer as ce}from"buffer";var xe=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ie=class extends xe{constructor(e,r,i){super(e,r),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Gr=Symbol.toStringTag,ii=s=>typeof s=="object"&&typeof s.append=="function"&&typeof s.delete=="function"&&typeof s.get=="function"&&typeof s.getAll=="function"&&typeof s.has=="function"&&typeof s.set=="function"&&typeof s.sort=="function"&&s[Gr]==="URLSearchParams",Kt=s=>s&&typeof s=="object"&&typeof s.arrayBuffer=="function"&&typeof s.type=="string"&&typeof s.stream=="function"&&typeof s.constructor=="function"&&/^(Blob|File)$/.test(s[Gr]),qo=s=>typeof s=="object"&&(s[Gr]==="AbortSignal"||s[Gr]==="EventTarget"),Wo=(s,e)=>{let r=new URL(e).hostname,i=new URL(s).hostname;return r===i||r.endsWith(`.${i}`)},Mo=(s,e)=>{let r=new URL(e).protocol,i=new URL(s).protocol;return r===i};var kl=Pl(Je.pipeline),oe=Symbol("Body internals"),Ae=class{constructor(e,{size:r=0}={}){let i=null;e===null?e=null:ii(e)?e=ce.from(e.toString()):Kt(e)||ce.isBuffer(e)||(Go.isAnyArrayBuffer(e)?e=ce.from(e):ArrayBuffer.isView(e)?e=ce.from(e.buffer,e.byteOffset,e.byteLength):e instanceof Je||(e instanceof rt?(e=Lo(e),i=e.type.split("=")[1]):e=ce.from(String(e))));let o=e;ce.isBuffer(e)?o=Je.Readable.from(e):Kt(e)&&(o=Je.Readable.from(e.stream())),this[oe]={body:e,stream:o,boundary:i,disturbed:!1,error:null},this.size=r,e instanceof Je&&e.on("error",l=>{let f=l instanceof xe?l:new ie(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[oe].error=f})}get body(){return this[oe].stream}get bodyUsed(){return this[oe].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:i}=await ai(this);return e.slice(r,r+i)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let i=new rt,o=new URLSearchParams(await this.text());for(let[l,f]of o)i.append(l,f);return i}let{toFormData:r}=await Promise.resolve().then(()=>(Jo(),Uo));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[oe].body&&this[oe].body.type||"",r=await this.arrayBuffer();return new Be([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await ai(this);return new TextDecoder().decode(e)}buffer(){return ai(this)}};Ae.prototype.buffer=li(Ae.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ae.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:li(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function ai(s){if(s[oe].disturbed)throw new TypeError(`body used already for: ${s.url}`);if(s[oe].disturbed=!0,s[oe].error)throw s[oe].error;let{body:e}=s;if(e===null)return ce.alloc(0);if(!(e instanceof Je))return ce.alloc(0);let r=[],i=0;try{for await(let o of e){if(s.size>0&&i+o.length>s.size){let l=new ie(`content size at ${s.url} over limit: ${s.size}`,"max-size");throw e.destroy(l),l}i+=o.length,r.push(o)}}catch(o){throw o instanceof xe?o:new ie(`Invalid response body while trying to fetch ${s.url}: ${o.message}`,"system",o)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(o=>typeof o=="string")?ce.from(r.join("")):ce.concat(r,i)}catch(o){throw new ie(`Could not create Buffer from response body for ${s.url}: ${o.message}`,"system",o)}else throw new ie(`Premature close of server response while trying to fetch ${s.url}`)}var wt=(s,e)=>{let r,i,{body:o}=s[oe];if(s.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof Je&&typeof o.getBoundary!="function"&&(r=new Qo({highWaterMark:e}),i=new Qo({highWaterMark:e}),o.pipe(r),o.pipe(i),s[oe].stream=r,o=i),o},Dl=li(s=>s.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Xr=(s,e)=>s===null?null:typeof s=="string"?"text/plain;charset=UTF-8":ii(s)?"application/x-www-form-urlencoded;charset=UTF-8":Kt(s)?s.type||null:ce.isBuffer(s)||Go.isAnyArrayBuffer(s)||ArrayBuffer.isView(s)?null:s instanceof rt?`multipart/form-data; boundary=${e[oe].boundary}`:s&&typeof s.getBoundary=="function"?`multipart/form-data;boundary=${Dl(s)}`:s instanceof Je?null:"text/plain;charset=UTF-8",Yo=s=>{let{body:e}=s[oe];return e===null?0:Kt(e)?e.size:ce.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},Zo=async(s,{body:e})=>{e===null?s.end():await kl(e,s)};import{types as Ko}from"util";import tn from"http";var en=typeof tn.validateHeaderName=="function"?tn.validateHeaderName:s=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(s)){let e=new TypeError(`Header name must be a valid HTTP token [${s}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},ui=typeof tn.validateHeaderValue=="function"?tn.validateHeaderValue:(s,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${s}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},X=class extends URLSearchParams{constructor(e){let r=[];if(e instanceof X){let i=e.raw();for(let[o,l]of Object.entries(i))r.push(...l.map(f=>[o,f]))}else if(e!=null)if(typeof e=="object"&&!Ko.isBoxedPrimitive(e)){let i=e[Symbol.iterator];if(i==null)r.push(...Object.entries(e));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(o=>{if(typeof o!="object"||Ko.isBoxedPrimitive(o))throw new TypeError("Each header pair must be an iterable object");return[...o]}).map(o=>{if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...o]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([i,o])=>(en(i),ui(i,String(o)),[String(i).toLowerCase(),String(o)])):void 0,super(r),new Proxy(this,{get(i,o,l){switch(o){case"append":case"set":return(f,d)=>(en(f),ui(f,String(d)),URLSearchParams.prototype[o].call(i,String(f).toLowerCase(),String(d)));case"delete":case"has":case"getAll":return f=>(en(f),URLSearchParams.prototype[o].call(i,String(f).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,o,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let i=r.join(", ");return/^content-encoding$/i.test(e)&&(i=i.toLowerCase()),i}forEach(e,r=void 0){for(let i of this.keys())Reflect.apply(e,r,[this.get(i),i,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let i=this.getAll(r);return r==="host"?e[r]=i[0]:e[r]=i.length>1?i:i[0],e},{})}};Object.defineProperties(X.prototype,["get","entries","forEach","values"].reduce((s,e)=>(s[e]={enumerable:!0},s),{}));function Xo(s=[]){return new X(s.reduce((e,r,i,o)=>(i%2===0&&e.push(o.slice(i,i+2)),e),[]).filter(([e,r])=>{try{return en(e),ui(e,String(r)),!0}catch{return!1}}))}var Il=new Set([301,302,303,307,308]),rn=s=>Il.has(s);var we=Symbol("Response internals"),G=class extends Ae{constructor(e=null,r={}){super(e,r);let i=r.status!=null?r.status:200,o=new X(r.headers);if(e!==null&&!o.has("Content-Type")){let l=Xr(e,this);l&&o.append("Content-Type",l)}this[we]={type:"default",url:r.url,status:i,statusText:r.statusText||"",headers:o,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[we].type}get url(){return this[we].url||""}get status(){return this[we].status}get ok(){return this[we].status>=200&&this[we].status<300}get redirected(){return this[we].counter>0}get statusText(){return this[we].statusText}get headers(){return this[we].headers}get highWaterMark(){return this[we].highWaterMark}clone(){return new G(wt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!rn(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new G(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new G(null,{status:0,statusText:""});return e[we].type="error",e}static json(e=void 0,r={}){let i=JSON.stringify(e);if(i===void 0)throw new TypeError("data is not JSON serializable");let o=new X(r&&r.headers);return o.has("content-type")||o.set("content-type","application/json"),new G(i,{...r,headers:o})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(G.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as $l}from"url";import{deprecate as Fl}from"util";var es=s=>{if(s.search)return s.search;let e=s.href.length-1,r=s.hash||(s.href[e]==="#"?"#":"");return s.href[e-r.length]==="?"?"?":""};import{isIP as Bl}from"net";function ts(s,e=!1){return s==null||(s=new URL(s),/^(about|blob|data):$/.test(s.protocol))?"no-referrer":(s.username="",s.password="",s.hash="",e&&(s.pathname="",s.search=""),s)}var rs=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),ns="strict-origin-when-cross-origin";function is(s){if(!rs.has(s))throw new TypeError(`Invalid referrerPolicy: ${s}`);return s}function xl(s){if(/^(http|ws)s:$/.test(s.protocol))return!0;let e=s.host.replace(/(^\[)|(]$)/g,""),r=Bl(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:s.host==="localhost"||s.host.endsWith(".localhost")?!1:s.protocol==="file:"}function St(s){return/^about:(blank|srcdoc)$/.test(s)||s.protocol==="data:"||/^(blob|filesystem):$/.test(s.protocol)?!0:xl(s)}function os(s,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(s.referrer==="no-referrer"||s.referrerPolicy==="")return null;let i=s.referrerPolicy;if(s.referrer==="about:client")return"no-referrer";let o=s.referrer,l=ts(o),f=ts(o,!0);l.toString().length>4096&&(l=f),e&&(l=e(l)),r&&(f=r(f));let d=new URL(s.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return l;case"strict-origin":return St(l)&&!St(d)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return l.origin===d.origin?l:St(l)&&!St(d)?"no-referrer":f;case"same-origin":return l.origin===d.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===d.origin?l:f;case"no-referrer-when-downgrade":return St(l)&&!St(d)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function ss(s){let e=(s.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let i of e)i&&rs.has(i)&&(r=i);return r}var U=Symbol("Request internals"),er=s=>typeof s=="object"&&typeof s[U]=="object",Nl=Fl(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),$e=class extends Ae{constructor(e,r={}){let i;if(er(e)?i=new URL(e.url):(i=new URL(e),e={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let o=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(o)&&(o=o.toUpperCase()),!er(r)&&"data"in r&&Nl(),(r.body!=null||er(e)&&e.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:er(e)&&e.body!==null?wt(e):null;super(l,{size:r.size||e.size||0});let f=new X(r.headers||e.headers||{});if(l!==null&&!f.has("Content-Type")){let m=Xr(l,this);m&&f.set("Content-Type",m)}let d=er(e)?e.signal:null;if("signal"in r&&(d=r.signal),d!=null&&!qo(d))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?e.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let m=new URL(c);c=/^about:(\/\/)?client$/.test(m)?"client":m}else c=void 0;this[U]={method:o,redirect:r.redirect||e.redirect||"follow",headers:f,parsedURL:i,signal:d,referrer:c},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[U].method}get url(){return $l(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}get referrer(){if(this[U].referrer==="no-referrer")return"";if(this[U].referrer==="client")return"about:client";if(this[U].referrer)return this[U].referrer.toString()}get referrerPolicy(){return this[U].referrerPolicy}set referrerPolicy(e){this[U].referrerPolicy=is(e)}clone(){return new $e(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties($e.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var as=s=>{let{parsedURL:e}=s[U],r=new X(s[U].headers);r.has("Accept")||r.set("Accept","*/*");let i=null;if(s.body===null&&/^(post|put)$/i.test(s.method)&&(i="0"),s.body!==null){let d=Yo(s);typeof d=="number"&&!Number.isNaN(d)&&(i=String(d))}i&&r.set("Content-Length",i),s.referrerPolicy===""&&(s.referrerPolicy=ns),s.referrer&&s.referrer!=="no-referrer"?s[U].referrer=os(s):s[U].referrer="no-referrer",s[U].referrer instanceof URL&&r.set("Referer",s.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),s.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=s;typeof o=="function"&&(o=o(e)),!r.has("Connection")&&!o&&r.set("Connection","close");let l=es(e),f={path:e.pathname+l,method:s.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:s.insecureHTTPParser,agent:o};return{parsedURL:e,options:f}};var nn=class extends xe{constructor(e,r="aborted"){super(e,r)}};Qr();oi();var Wl=new Set(["data:","http:","https:"]);async function sn(s,e){return new Promise((r,i)=>{let o=new $e(s,e),{parsedURL:l,options:f}=as(o);if(!Wl.has(l.protocol))throw new TypeError(`node-fetch cannot load ${s}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let _=ko(o.url),C=new G(_,{headers:{"Content-Type":_.typeFull}});r(C);return}let d=(l.protocol==="https:"?ql:Ll).request,{signal:c}=o,m=null,y=()=>{let _=new nn("The operation was aborted.");i(_),o.body&&o.body instanceof ls.Readable&&o.body.destroy(_),!(!m||!m.body)&&m.body.emit("error",_)};if(c&&c.aborted){y();return}let b=()=>{y(),w()},S=d(l.toString(),f);c&&c.addEventListener("abort",b);let w=()=>{S.abort(),c&&c.removeEventListener("abort",b)};S.on("error",_=>{i(new ie(`request to ${o.url} failed, reason: ${_.message}`,"system",_)),w()}),Ml(S,_=>{m&&m.body&&m.body.destroy(_)}),process.version<"v14"&&S.on("socket",_=>{let C;_.prependListener("end",()=>{C=_._eventsCount}),_.prependListener("close",k=>{if(m&&C<_._eventsCount&&!k){let T=new Error("Premature close");T.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",T)}})}),S.on("response",_=>{S.setTimeout(0);let C=Xo(_.rawHeaders);if(rn(_.statusCode)){let A=C.get("Location"),q=null;try{q=A===null?null:new URL(A,o.url)}catch{if(o.redirect!=="manual"){i(new ie(`uri requested responds with an invalid redirect URL: ${A}`,"invalid-redirect")),w();return}}switch(o.redirect){case"error":i(new ie(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),w();return;case"manual":break;case"follow":{if(q===null)break;if(o.counter>=o.follow){i(new ie(`maximum redirect reached at: ${o.url}`,"max-redirect")),w();return}let F={headers:new X(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:wt(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!Wo(o.url,q)||!Mo(o.url,q))for(let Q of["authorization","www-authenticate","cookie","cookie2"])F.headers.delete(Q);if(_.statusCode!==303&&o.body&&e.body instanceof ls.Readable){i(new ie("Cannot follow redirect with body being a readable stream","unsupported-redirect")),w();return}(_.statusCode===303||(_.statusCode===301||_.statusCode===302)&&o.method==="POST")&&(F.method="GET",F.body=void 0,F.headers.delete("content-length"));let Z=ss(C);Z&&(F.referrerPolicy=Z),r(sn(new $e(q,F))),w();return}default:return i(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}c&&_.once("end",()=>{c.removeEventListener("abort",b)});let k=Ct(_,new us,A=>{A&&i(A)});process.version<"v12.10"&&_.on("aborted",b);let T={url:o.url,status:_.statusCode,statusText:_.statusMessage,headers:C,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},E=C.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||E===null||_.statusCode===204||_.statusCode===304){m=new G(k,T),r(m);return}let v={flush:Rt.Z_SYNC_FLUSH,finishFlush:Rt.Z_SYNC_FLUSH};if(E==="gzip"||E==="x-gzip"){k=Ct(k,Rt.createGunzip(v),A=>{A&&i(A)}),m=new G(k,T),r(m);return}if(E==="deflate"||E==="x-deflate"){let A=Ct(_,new us,q=>{q&&i(q)});A.once("data",q=>{(q[0]&15)===8?k=Ct(k,Rt.createInflate(),F=>{F&&i(F)}):k=Ct(k,Rt.createInflateRaw(),F=>{F&&i(F)}),m=new G(k,T),r(m)}),A.once("end",()=>{m||(m=new G(k,T),r(m))});return}if(E==="br"){k=Ct(k,Rt.createBrotliDecompress(),A=>{A&&i(A)}),m=new G(k,T),r(m);return}m=new G(k,T),r(m)}),Zo(S,o).catch(i)})}function Ml(s,e){let r=on.from(`0\r
\r
`),i=!1,o=!1,l;s.on("response",f=>{let{headers:d}=f;i=d["transfer-encoding"]==="chunked"&&!d["content-length"]}),s.on("socket",f=>{let d=()=>{if(i&&!o){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",e(m)}},c=m=>{o=on.compare(m.slice(-5),r)===0,!o&&l&&(o=on.compare(l.slice(-3),r.slice(0,3))===0&&on.compare(m.slice(-2),r.slice(3))===0),l=m};f.prependListener("close",d),f.on("data",c),s.on("close",()=>{f.removeListener("close",d),f.removeListener("data",c)})})}var tr=s=>s.degree*3600+s.minute*60+s.second,an=s=>{let e=s<0,r=s*(e?-1:1);return{degree:Math.floor(r/3600),minute:Math.floor(r%3600/60),second:r%60}};var rr=s=>tr(s)/3600,fs=s=>an(s*3600),ln=(s,e)=>an(tr(s)+tr(e));var cs=(s,e)=>an(tr(s)*e),ds=(s,e)=>an(tr(s)/e);var jl=/^\d{4}$/u,Hl=/^\d{6}$/u,Vl=/^\d{6}[0,2,4,6,8][0,2,4,6,8]5$/u,Ul=/^\d{5}[1-4]$/u,Jl=/^\d{8}$/u,Ql=/^\d{8}[1-4]$/u,Gl=/^\d{8}[1-4][1-4]$/u,Yl=/^\d{8}[1-4][1-4][1-4]$/u,Zl=/^\d{10}$/u,Kl=/^\d{10}[1-4]$/u,un=[{name:"\u4E00\u6B21\u30E1\u30C3\u30B7\u30E5",kind:1,width:"80km",converter:s=>s.substring(0,4),check:s=>jl.test(s)},{name:"\u4E8C\u6B21\u30E1\u30C3\u30B7\u30E5",kind:2,width:"10km",converter:s=>{if(s.length<6)throw new Error(`Mesh Code convert ng: ${s} to 10km mesh.`);return s.substring(0,6)},check:s=>Hl.test(s)},{name:"\uFF12\u500D\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:2.2,width:"2km",converter:s=>{if(s.length<8)throw new Error(`Mesh Code convert ng: ${s} to 2km mesh.`);let e=Number(s.substring(6,7)),r=Number(s.substring(7,8));return`${s.substring(0,6)}${e&254}${r&254}5`},check:s=>Vl.test(s)},{name:"\uFF15\u500D\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:2.5,width:"5km",converter:s=>{if(s.length<8)throw new Error(`Mesh Code convert ng: ${s} to 5km mesh.`);let e=Number(s.substring(6,7)),r=Number(s.substring(7,8)),i=2;return e<=4?r<=4&&(i=1):r<=4?i=3:i=4,`${s.substring(0,6)}${i}`},check:s=>Ul.test(s)},{name:"\u4E09\u6B21\u30E1\u30C3\u30B7\u30E5",kind:3,width:"1km",converter:s=>{if(s.length<9)throw new Error(`Mesh Code convert ng: ${s} to 1km mesh.`);return s.substring(0,8)},check:s=>Jl.test(s)},{name:"2\u5206\u306E1\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:3.5,width:"500m",converter:s=>{if(s.length<10)throw new Error(`Mesh Code convert ng: ${s} to 500m mesh.`);return s.substring(0,9)},check:s=>Ql.test(s)},{name:"4\u5206\u306E1\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:3.25,width:"250m",converter:s=>{if(s.length<11)throw new Error(`Mesh Code convert ng: ${s} to 250m mesh.`);return s.substring(0,10)},check:s=>Gl.test(s)},{name:"8\u5206\u306E1\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:3.125,width:"125m",converter:s=>{throw new Error("Minimam mesh. convert ng")},check:s=>Yl.test(s)},{name:"10\u5206\u306E1\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:3.1,extend:!0,width:"100m",converter:s=>{if(s.length<10)throw new Error(`Mesh Code convert ng: ${s} to 100m mesh.`);return s.substring(0,10)},check:s=>Zl.test(s)},{name:"20\u5206\u306E1\u5730\u57DF\u30E1\u30C3\u30B7\u30E5",kind:3.05,extend:!0,width:"50m",converter:s=>{throw new Error("Minimam mesh. convert ng")},check:s=>Kl.test(s)}],Xl=(s,e=!1)=>{if(e){let i=un.filter(o=>o.extend).find(o=>o.check(s));if(i)return i;if(10<=s.length)return null}return un.find(i=>i.check(s))??null},J=(s,e,r)=>{let i=ln(s,cs(e,r)),o=rr(i),l=ln(i,e),f=rr(l);return{angle:i,digit:o,oppositeDigit:f}},hs=(s,e,r=!1)=>{let i=s.toString(),o=e;if(o===null&&(o=Xl(i,r),o===null))throw new Error(`\u30E1\u30C3\u30B7\u30E5\u30B3\u30FC\u30C9\u30A8\u30E9\u30FC:${s}`);let l=Number(i.substring(0,2)),f=Number(i.substring(2,4)),d=ds({degree:l,minute:0,second:0},1.5),c=rr(d),m=f+100,y=ln(d,{degree:0,minute:40,second:0}),b=rr(y),S=m+1;if(o.kind===1)return[[b,m],[c,S]];let w={degree:0,minute:5,second:0},_={degree:0,minute:7,second:30},C=Number(i.substring(4,5)),k=Number(i.substring(5,6)),{angle:T,digit:E,oppositeDigit:v}=J(d,w,C),{angle:A,digit:q,oppositeDigit:F}=J(fs(m),_,k);if(o.kind===2)return[[v,q],[E,F]];if(o.kind===2.2){let pe={degree:0,minute:1,second:0},re={degree:0,minute:1,second:30},ue=Number(i.substring(6,7)),Se=Number(i.substring(7,8)),{digit:Ne,oppositeDigit:Le}=J(T,pe,ue/2),{digit:qe,oppositeDigit:It}=J(A,re,Se/2);return[[Le,qe],[Ne,It]]}if(o.kind===2.5){let pe={degree:0,minute:2,second:30},re={degree:0,minute:3,second:45},ue=Number(i.substring(6,7)),{digit:Se,oppositeDigit:Ne}=J(T,pe,Math.floor(ue/3)),{digit:Le,oppositeDigit:qe}=J(A,re,(ue+1)%2);return[[Ne,Le],[Se,qe]]}let Z={degree:0,minute:0,second:30},Q={degree:0,minute:0,second:45},it=Number(i.substring(6,7)),B=Number(i.substring(7,8)),{angle:Y,digit:P,oppositeDigit:W}=J(T,Z,it),{angle:ee,digit:Ot,oppositeDigit:H}=J(A,Q,B);if(o.kind===3)return[[W,Ot],[P,H]];if(r){let pe={degree:0,minute:0,second:3},re={degree:0,minute:0,second:4.5},ue=Number(i.substring(8,9)),Se=Number(i.substring(9,10)),{angle:Ne,digit:Le,oppositeDigit:qe}=J(Y,pe,ue),{angle:It,digit:fr,oppositeDigit:cr}=J(ee,re,Se);if(o.kind===3.1)return[[qe,fr],[Le,cr]];let dr={degree:0,minute:0,second:1.5},Qe={degree:0,minute:0,second:2.25},Bt=Number(i.substring(10,11)),{digit:fi,oppositeDigit:st}=J(Ne,dr,Math.floor(Bt/3)),{digit:hr,oppositeDigit:hn}=J(It,Qe,(Bt+1)%2);return[[st,hr],[fi,hn]]}let Oe={degree:0,minute:0,second:15},le={degree:0,minute:0,second:22.5},te=Number(i.substring(8,9)),{angle:Te,digit:de,oppositeDigit:Tt}=J(Y,Oe,Math.floor(te/3)),{angle:nr,digit:fn,oppositeDigit:cn}=J(ee,le,(te+1)%2);if(o.kind===3.5)return[[Tt,fn],[de,cn]];let he={degree:0,minute:0,second:7.5},se={degree:0,minute:0,second:11.25},ir=Number(i.substring(9,10)),{angle:or,digit:me,oppositeDigit:vt}=J(Te,he,Math.floor(ir/3)),{angle:Pt,digit:sr,oppositeDigit:dn}=J(nr,se,(ir+1)%2);if(o.kind===3.25)return[[vt,sr],[me,dn]];let ar={degree:0,minute:0,second:3.75},kt={degree:0,minute:0,second:5.625},ve=Number(i.substring(10,11)),{digit:lr,oppositeDigit:Dt}=J(or,ar,Math.floor(ve/3)),{digit:ot,oppositeDigit:ur}=J(Pt,kt,(ve+1)%2);return[[Dt,ot],[lr,ur]]};var ru="https://www.stat.go.jp/data/mesh/csv/",At={"01":"\u5317\u6D77\u9053","02":"\u9752\u68EE\u770C","03":"\u5CA9\u624B\u770C","04":"\u5BAE\u57CE\u770C","05":"\u79CB\u7530\u770C","06":"\u5C71\u5F62\u770C","07":"\u798F\u5CF6\u770C","08":"\u8328\u57CE\u770C","09":"\u6803\u6728\u770C",10:"\u7FA4\u99AC\u770C",11:"\u57FC\u7389\u770C",12:"\u5343\u8449\u770C",13:"\u6771\u4EAC\u90FD",14:"\u795E\u5948\u5DDD\u770C",15:"\u65B0\u6F5F\u770C",16:"\u5BCC\u5C71\u770C",17:"\u77F3\u5DDD\u770C",18:"\u798F\u4E95\u770C",19:"\u5C71\u68A8\u770C",20:"\u9577\u91CE\u770C",21:"\u5C90\u961C\u770C",22:"\u9759\u5CA1\u770C",23:"\u611B\u77E5\u770C",24:"\u4E09\u91CD\u770C",25:"\u6ECB\u8CC0\u770C",26:"\u4EAC\u90FD\u5E9C",27:"\u5927\u962A\u5E9C",28:"\u5175\u5EAB\u770C",29:"\u5948\u826F\u770C",30:"\u548C\u6B4C\u5C71\u770C",31:"\u9CE5\u53D6\u770C",32:"\u5CF6\u6839\u770C",33:"\u5CA1\u5C71\u770C",34:"\u5E83\u5CF6\u770C",35:"\u5C71\u53E3\u770C",36:"\u5FB3\u5CF6\u770C",37:"\u9999\u5DDD\u770C",38:"\u611B\u5A9B\u770C",39:"\u9AD8\u77E5\u770C",40:"\u798F\u5CA1\u770C",41:"\u4F50\u8CC0\u770C",42:"\u9577\u5D0E\u770C",43:"\u718A\u672C\u770C",44:"\u5927\u5206\u770C",45:"\u5BAE\u5D0E\u770C",46:"\u9E7F\u5150\u5CF6\u770C",47:"\u6C96\u7E04\u770C"},nu=async(s,e={},r="utf-8")=>{let i=new TextDecoder(r),o=await sn(s,e);if(!o.ok)throw new Error(`${o.status}:${o.statusText}(${o.url})`);let l=await o.arrayBuffer();return i.decode(l)},iu={delimiter:",",columns:!0,skip_empty_lines:!0,relax_column_count:!0},ou=async(s,e,r,i)=>{try{let o=0,l=9999999,f=9999999,d=0,m={type:"FeatureCollection",features:r.map(y=>{let b=hs(y,i);return o<b[0][0]&&(o=b[0][0]),b[1][0]<l&&(l=b[1][0]),d<b[1][1]&&(d=b[1][1]),b[0][1]<f&&(f=b[0][1]),{type:"Feature",properties:{Mesh:y},geometry:{type:"Polygon",coordinates:[[[b[1][1],b[1][0]],[b[0][1],b[1][0]],[b[0][1],b[0][0]],[b[1][1],b[0][0]]]]}}}),bbox:[f,l,d,o]};return await Fe.writeFile(e,JSON.stringify(m)),e}catch(o){throw console.error(`mesh5kmToGeojsonAsync(${s}, [${r.join(",")}])`),o}},su=async(s,e,r,i,o)=>{let l=r;i!==o.kind&&(l=Array.from(new Set(r.map(d=>o.converter(d)))));let f="";try{f=await ou(s,Et.resolve(e,`mesh${o.width}.json`),l,o)}catch(d){console.log(`mesh5kmToGeojsonAsync(${s}, [${l.join(",")}]`),console.error(d)}return f},ms=(s,e=null)=>{let r="";return e===null?r=Et.resolve(tu.tmpdir(),"mesh",At[s]):r=Et.resolve(e,At[s]),r},ps=async(s,e)=>{let r=`${s}.csv`,i=Et.resolve(e,r),o="";try{await Fe.stat(i),o=await Fe.readFile(i,"utf-8")}catch{await Fe.mkdir(e,{recursive:!0}),o=await nu(`${ru}${r}`,{},"Shift_JIS"),await Fe.writeFile(Et.resolve(e,r),o)}return Po(o,iu)},gs=async(s,e=null)=>{let r=ms(s,e),i=await ps(s,r),o=new Map;return o.set(s,"\u5168\u57DF"),i.forEach(l=>{o.set(l.\u90FD\u9053\u5E9C\u770C\u5E02\u533A\u753A\u6751\u30B3\u30FC\u30C9,l.\u5E02\u533A\u753A\u6751\u540D)}),Array.from(o)},_s=async s=>{let{prefecture:e,outDir:r,workDir:i}=s,o="",l=ms(e,i);o=r??l;try{await Fe.stat(l)}catch{await Fe.mkdir(l,{recursive:!0})}let f=await ps(e,l);return(await Promise.all(s.municipalities.map(async c=>{let m=o;if(c!==s.prefecture&&(m=Et.join(o,c)),console.log(m),c!==s.prefecture||m!==l)try{await Fe.stat(m)}catch{await Fe.mkdir(m,{recursive:!0})}let y=Array.from(new Set(f.filter(S=>S.\u90FD\u9053\u5E9C\u770C\u5E02\u533A\u753A\u6751\u30B3\u30FC\u30C9.startsWith(c)).map(S=>S["\u57FA\u6E96\u30E1\u30C3\u30B7\u30E5\u30FB\u30B3\u30FC\u30C9"]??S.\u57FA\u6E96\u30E1\u30C3\u30B7\u30E5\u30B3\u30FC\u30C9))),b=await Promise.all(s.meshWidths.map(S=>{let w=un.find(_=>_.width===S);if(typeof w>"u")throw new Error(`\u30E1\u30C3\u30B7\u30E5\u751F\u6210\u306B\u5BFE\u5FDC\u3057\u3066\u307E\u305B\u3093\uFF08width[${S}]\uFF09`);return su(l,m,y,3,w)}));return{municipality:c,results:b}}))).map(c=>c.results.map((m,y)=>({municipality:c.municipality,meshWidth:s.meshWidths[y],filename:m}))).flat()};var lu=async s=>{console.log(s);let e=s.prefecture,r=s.municipalities,i=s.meshWidths,o=Array.isArray(i)?i:i.split(","),l=s.workDir??null,f=s.outDir??l;(e===null||typeof e>"u"||typeof At[e]>"u")&&(Object.keys(At).sort().forEach(c=>{console.log(`${c} : ${At[c]}`)}),process.exit()),(r===null||typeof r>"u")&&((await gs(e,l)).forEach(m=>{console.log(`${m[0]} : ${m[1]}`)}),process.exit());let d=Array.isArray(r)?r:r.split(",");return{prefecture:e,municipalities:d,outDir:f,workDir:l,meshWidths:o}},uu=async()=>{let s=new Co;s.addOption(new _t("-w, --workDir <string>","\u4F5C\u696D\u30D5\u30A9\u30EB\u30C0").default(null,"system\u306Etemp\u30D5\u30A9\u30EB\u30C0/mesh")).addOption(new _t("-o, --outDir <string>","\u51FA\u529B\u5148\u30D5\u30A9\u30EB\u30C0").default(null,"system\u306Etemp\u30D5\u30A9\u30EB\u30C0/mesh")).addOption(new _t("-p, --prefecture <string>","\u90FD\u9053\u5E9C\u770C\u756A\u53F7").default(null,"\u756A\u53F7\u30EA\u30B9\u30C8\u306E\u51FA\u529B")).addOption(new _t("-j, --municipalities <string>","\u5E02\u533A\u753A\u6751\u30B3\u30FC\u30C9\uFF08\u30AB\u30F3\u30DE\u533A\u5207\u308A\uFF09").default(null,"\u81EA\u6CBB\u4F53\u3002\u756A\u53F7\u30EA\u30B9\u30C8\u306E\u51FA\u529B\uFF08\u90FD\u9053\u5E9C\u770C\u6307\u5B9A\u6642\uFF09")).addOption(new _t("-m, --meshWidths <string>","\u30E1\u30C3\u30B7\u30E5\u5E45\uFF08\u30AB\u30F3\u30DE\u533A\u5207\u308A\uFF09").default("1km")),s.parse(process.argv);let e=s.opts(),r=await lu(e),i=await _s(r);console.log(i)};await uu();
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
